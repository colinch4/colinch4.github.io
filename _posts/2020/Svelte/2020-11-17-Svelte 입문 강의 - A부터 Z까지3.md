---
layout: post
title: "Svelte ì…ë¬¸ ê°•ì˜ - Aë¶€í„° Zê¹Œì§€ 3"
description: " "
date: 2020-11-17
tags: [svelte]
comments: true
share: true
---

## 3ï¸âƒ£
### ğŸ–¥ ë°ì´í„° ë°”ì¸ë”© ê¸°ì´ˆ
#### 6 - 1. input íƒœê·¸

```javascript
<script>
	// type="text"
	let name = 'bill'; 
	// type="number", "range"
	let a = 1;
	// type="checkbox" & if
	let yes = false;
	// type = "radio" 
	let picked = null;
	// type="checkbox" & each
	const names = ['bill', 'test', 'world']
	let checkedNames = [];
</script>

<input type="text" bind:value={name}>
<h1>{name}</h1>

<input type="number" bind:value={a} min="0" max="10">
<input type="range" bind:value={a} min="0" max="10">

<h1>{a}</h1>

<input type="checkbox" bind:checked={yes}>
{#if yes}
	<p>YES</p>
{:else}
	<p>NO</p>
{/if}


<label>
	<input type="radio" value="One" bind:group={picked}>
	One
</label>
<label>
	<input type="radio" value="Two" bind:group={picked}>
	Two
</label>

<h1>{picked}</h1>


{#each names as name, index (index)}
<label>
	<input type="checkbox" value={name} bind:group={checkedNames}>
	{name}
</label>
{/each}

<h1>{checkedNames}</h1>
```

- ìœ„ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ ëœë‹¤.

<img src="https://github.com/colinch4/colinch4.github.io/blob/master/_posts/2020/Svelte/images/svelte_input%20%ED%83%9C%EA%B7%B8.png?raw=true" width="50%">


#### 6 - 2. textarea íƒœê·¸

```javascript
<script>
	let value = 'skarsgard'
</script>

<textarea bind:value={value}></textarea>
// ì•„ë˜ì™€ ê°™ì´ ìƒëµí•  ìˆ˜ ìˆë‹¤.
<textarea bind:value></textarea>
<p>{value}</p>
```

#### 6 - 3. select íƒœê·¸

```javascript
<script>
	let list =[
		{id:1, text:'james'},
		{id:2, text:'bill'},
		{id:3, text:'tom'},
	]
	let selected= [];
</script>


<select bind:value={selected} multiple>
	{#each list as item }
	<option value={item}>{item.text}</option>
	{/each}
</select>

<p>ì„ íƒí•¨ : {selected ? selected.id : 'ê¸°ë‹¤ë¦¬ëŠ”ì¤‘...'}</p>
<p>ì„ íƒí•¨ : {selected ? selected.map(x => x.id).join(',') : 'ê¸°ë‹¤ë¦¬ëŠ”ì¤‘...'}</p>
```

- selected ê°’ì—ëŠ” number, ê°ì²´, ë“± íƒ€ì…ì„ ê°€ë¦¬ì§€ ì•ŠëŠ”ë‹¤
- í˜„ì¬ selected ì— ê°’ì„ ì´ˆê¸°í™” í•´ì£¼ì§€ ì•Šì•˜ëŠ”ë°ë„ ê°’ì´ ì •í•´ì ¸ìˆëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. (ex let selected;)
- ê·¸ ì´ìœ ëŠ” svelte ìì²´ì—ì„œ ì‚¬ìš©ìê°€ ì´ˆê¸°ê°’ì„ ì •í•˜ì§€ ì•Šì•˜ì„ë•Œ, ì²«ë²ˆì§¸ ê°’ì„ ì„¤ì •í•´ì£¼ê¸° ë•Œë¬¸
- multiple : ì—¬ëŸ¬ê°œ ì„ íƒ ê°€ëŠ¥

#### 6 - 4. contenteditable ê¸°ëŠ¥
- contenteditable : ì‚¬ìš©ìê°€ ìš”ì†Œë¥¼ í¸ì§‘í•  ìˆ˜ ìˆëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜• íŠ¹ì„±
- [MDN contenteditable](https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable)

```javascript
<script>
	let html = '<p>billl</p>'
</script>

<div 
	contenteditable="true"
	bind:innerHTML={html}
></div>

<pre>{html}</pre>

<style>
	[contenteditable] {
		padding: 10px;
		border: 1px solid blue;
	}
</style>
``` 

- style ì—ì„œ [contenteditable] ì²˜ëŸ¼ ~í•œ ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ” ê²½ìš°ë§Œì„ ë”°ë¡œ ë¬¶ì–´ì„œ styleì„ ì¤„ ìˆ˜ ìˆë‹¤.

#### 6 - 5. Each ë¸”ë¡ ë°”ì¸ë”©
- todo ë§Œë“¤ê¸° ! 

```javascript
<script>
	let todos = [
		{ done:false, text:''}
	]
	$ : remaining = todos.filter(x => !x.done).length

	function add(){
		todos = todos.concat({done:false, text: ''})
	}

	function clear(){
		todos = todos.filter(x => !x.done)
	}
	
</script>

{#each todos as todo, index (index)}
	<div class:done={todo.done}>
		<input type="checkbox" bind:checked={todo.done}>
		<input type="text" bind:value={todo.text}>
	</div>
{/each}
<p>ë‚¨ì€ í• ì¼ : {remaining}</p>

<button on:click={add}>ì¶”ê°€</button>
<button on:click={clear}>ì™„ë£Œí•œ ì• ë“¤ ì‚­ì œ~</button>

<style>
	.done {
		opacity: 0.4;
	}
</style>
```

### ğŸ–¥ ë°ì´í„° ë°”ì¸ë”© ê³ ê¸‰
#### 7 - 1. Media íƒœê·¸
- [svelte ê³µì‹ë¬¸ì„œ](https://svelte.dev/tutorial/media-elements)

> ê°•ì˜ë‚´ìš©ì´ ë¶€ì¡±í•´ì„œ.. ë¬¸ì„œí™•ì¸í•˜ëŠ”ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

- **8ê°€ì§€ Readonly ì†ì„±**

ì•„ë˜ ëª©ë¡ì€ read onlyë¡œ ë°”ì¸ë”© í•  ìˆ˜ ìˆëŠ” 8ê°€ì§€ ì†ì„±ì…ë‹ˆë‹¤.

-   `duration`  _Number_  (readonly): ì´ ì¬ìƒ ê¸¸ì´(ì´ˆ ë‹¨ìœ„)
-   `buffered`  _Array_  (readonly):  `{start, end}`  ê°ì²´ë“¤ì˜ ë°°ì—´ë¡œ, ë²„í¼ ëœ ìœ„ì¹˜ë¥¼ í‘œì‹œí•¨
-   `seekable`  _Array_  (readonly):  `{start, end}`  ê°ì²´ë“¤ì˜ ë°°ì—´ë¡œ, ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆëŠ” ë²”ìœ„ë¥¼ í‘œì‹œí•¨
-   `played`  _Array_  (readonly):  `{start, end}`  ê°ì²´ë“¤ì˜ ë°°ì—´ë¡œ, ì¬ìƒí–ˆë˜ ìœ„ì¹˜ë“¤ì„ í‘œì‹œí•¨
-   `seeking`  _Boolean_  (readonly): ì°¾ëŠ” ì¤‘ì¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ” í”Œë˜ê·¸
-   `ended`  _Boolean_  (readonly): ì¬ìƒì´ ëë‚¬ëŠ”ì§€ë¥¼ í‘œì‹œí•˜ëŠ” í”Œë˜ê·¸
-   `videoWidth`  _Number_  (readonly):  `<video>`  íƒœê·¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†ì„±ìœ¼ë¡œ  `<video>`  íƒœê·¸ì˜ ë„ˆë¹„ë¥¼ ë‚˜íƒ€ëƒ„.
-   `videoHegiht`  _Number_  (readonly):  `<video>`  íƒœê·¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†ì„±ìœ¼ë¡œ  `<video>`  íƒœê·¸ì˜ ë†’ì´ë¥¼ ë‚˜íƒ€ëƒ„.

> bindingì€ ê°€ëŠ¥í•˜ì§€ë§Œ ìˆ˜ì •ì€ í•  ìˆ˜ ì—†ëŠ” 8ê°€ì§€ ì†ì„±

<hr>

- **4ê°€ì§€ Read, Write ê°€ëŠ¥í•œ ì†ì„±**

ì•„ë˜ ëª©ë¡ì€ writeì™€ read ë‘˜ ë‹¤ ê°€ëŠ¥í•œ 4ê°€ì§€ ì†ì„±ì…ë‹ˆë‹¤.

-   `currentTime`  _Number_: í˜„ì¬ ì¬ìƒ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒ„(ì´ˆ ë‹¨ìœ„)
-   `playbackRate`  _Number_: ì¬ìƒ ì†ë„ë¥¼ ë‚˜íƒ€ëƒ„(normal: 1)
-   `paused`  _Boolean_: ì¼ì‹œì •ì§€ëëŠ”ì§€ í‘œì‹œí•˜ëŠ” í”Œë˜ê·¸
-   `volume`  _Number_: ìŒëŸ‰ì˜ í¬ê¸°ë¥¼ ë‚˜íƒ€ëƒ„(0ê³¼ 1 ì‚¬ì´ì˜ ê°’)


- ì°¸ê³ ìë£Œ: [ë°ì´í„° ë°”ì¸ë”© ê³ ê¸‰](https://beomy.github.io/tech/svelte/bindings-in-depth/)

#### 7 - 2. Dimension ë°”ì¸ë”©

```javascript
<script>
	let w;
	let h;
	let size = 42;
	let text = 'skarsGard'
</script>

<input type="range" bind:value={size}>

<p>ë„ˆë¹„ : {w}, ë†’ì´ : {h}</p>

<div bind:clientWidth={w} bind:clientHeight={h}> 
	<span style="font-size: {size}px;">{text}</span>
</div>

<style>
	div{
		display: inline-block;
	}
</style>
```

- ì£¼ì˜ í•  ì  
- 1. ì„±ëŠ¥ ì´ìŠˆ : clientWidth ë¥¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œ ë”ì€ ê³„ì† ì¬ëœë”ë§í•˜ëŠ”ë°, ê±°ê¸°ì„œ ì˜¤ë²„í—¤ë“œ(ì–´ë–¤ ì²˜ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ ë“¤ì–´ê°€ëŠ” ê°„ì ‘ì ì¸ ì²˜ë¦¬ ì‹œê°„ Â· ë©”ëª¨ë¦¬ë“± / ì–´ë–¤ì²˜ë¦¬ë¥¼ ìœ„í•´ ë©”ëª¨ë¦¬ì‚¬ìš©ì´ ë§ìœ¼ë©´ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí–ˆë‹¤ê³  í•œë‹¤)ê°€ ë°œìƒë  ìˆ˜ ìˆê¸°ë•Œë¬¸ì— dimensionìš”ì†Œ ë°”ì¸ë”©í•˜ëŠ”ê²ƒì„ ì¶”ì²œí•˜ì§€ ì•ŠìŒ
- 2. dimensionìš”ì†ŒëŠ” div, p ì™€ ê°™ì€ ë¸”ëŸ­ìš”ì†Œì—ë§Œ ê°€ëŠ¥ / inline ìœ¼ë¡œ ë³€ê²½ì‹œ ë†’ì´ì™€ ë„ˆë¹„ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ë‹¤.
- 3. ìº”ë²„ìŠ¤ì™€ ê°™ì´ ìì‹ìš”ì†Œë¥¼ ê°€ì§ˆìˆ˜ ì—†ëŠ” ìš”ì†Œë“¤ë„ dimension ì†ì„±ì„ ë°”ì¸ë”© í•  ìˆ˜ ì—†ë‹¤. 

#### 7 - 3. this ë°”ì¸ë”©
- thisë¥¼ ë°”ì¸ë”© í•œë‹¤ == ìê¸° ìì‹ ì„ íŠ¹ì •ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤ 
- html ì—ì„œ ë°”ì¸ë”© í•˜ë©´, ê·¸ ë³€ìˆ˜ëŠ” html ì—˜ë¦¬ë¨¼íŠ¸ê°€ ë˜ê³  ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°”ì¸ë”©í•˜ë©´ ê·¸ ë³€ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ëœë‹¤.(?) 

```javascript
// ë¶€ëª¨ 
<script>
	import Child from './Child.svelte'
	let first;
	let second;

	function handleClick(){
		console.log(first);
		console.log(second);
		
		
	}
</script>

<button on:click={handleClick}>ddd</button>
<div bind:this={first}>DIV</div>
<Child bind:this={second}></Child>

// ìì‹ 
<span>Child</span>
```

#### 7 - 4. ì»´í¬ë„ŒíŠ¸ Props ë°”ì¸ë”©

```javascript
// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
<script>
	import Child from './Child.svelte'
	let number = 3;
</script>

<Child bind:number={number}></Child>
<p>{number}</p>

// ìì‹ ì»´í¬ë„ŒíŠ¸
<script>
    export let number;

    function handleClick(){
        number *= number 
    }
</script>

<button on:click={handleClick}>ì œê³±í•˜ê¸°</button>
```

- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ bind:number={number} ì„ í•´ì£¼ì—ˆëŠ”ë°, ì´ë ‡ê²Œ ë˜ë©´ ë¶€ëª¨, ìì‹ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ì—ì„œ numberì— ê°’ì„ ë³€ë™ì‹œí‚¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— (ì–‘ë°©í–¥ í†µì‹ ) ë‚¨ë°œí•˜ë©´ ì¢‹ì§€ ì•Šë‹¤
- ì—ëŸ¬ë¥¼ íŒŒì•…í•˜ê¸°ê°€ ì–´ë ¤ì›Œì§ˆìˆ˜ ìˆê¸° ë•Œë¬¸ ! 


### ğŸ–¥ ë¼ì´í”„ ì‚¬ì´í´
#### 8 - 1. ë¼ì´í”„ ì‚¬ì´í´ì´ë€
- 1. onMount / ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ê·¸ë ¤ì¡Œì„ë•Œ í˜¸ì¶œ
- 2. onDestroy / ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ì œê±°ë˜ì—ˆì„ë•Œ ì‹¤í–‰
- 3. beforeUpdate / í™”ë©´ì´ ì—…ë°ì´íŠ¸ë˜ê¸° ì§ì „
- 4. afterUpdate / í™”ë©´ì— ê°’ì´ ì—…ë°ì´íŠ¸ëœ ì´í›„ í˜¸ì¶œ 
- Svelteì˜ ë¼ì´í”„ ì‚¬ì´í´ í•¨ìˆ˜ë“¤ì€ import { ë¼ì´í”„ ì‚¬ì´í´ í•¨ìˆ˜ ì´ë¦„ } from 'svelte'ë¡œ ë¼ì´í”„ ì‚¬ì´í´ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 8 - 2. onMount
- ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë”ì— ëœë”ë§ ë¬ì„ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
- ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼í•  ê²½ìš° onMount ì¶”ì²œ

```javascript
// ë¶€ëª¨ì»´í¬ë„ŒíŠ¸
<script>
	import Child from './Child.svelte'
	let condition =true;
</script>

<button on:click={()=> condition = !condition}>toggle</button>

{#if condition}
<Child></Child>
{/if}

// ìì‹ì»´í¬ë„ŒíŠ¸
<script>
    import { onMount } from 'svelte';
    let photos = [];

    // ì•„ë˜ëŠ” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ë•Œ
    onMount(async()=> {
        const res = await fetch('https://jsonplaceholder.typicode.com/photos?_limit=20');
        photos = await res.json();
        console.log(photos);
    })

    // ì•„ë˜ëŠ” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ì‚¬ë¼ì¡Œì„ë•Œì˜ ì²˜ë¦¬ê¹Œì§€ í•´ì¤„ë•Œ
    onMount(()=> {
        fetch('https://jsonplaceholder.typicode.com/photos?_limit=20')
        .then (async(res)=>{
            photos = await res.json();
        })
        
        return ()=>{
            console.log('ì‚¬ë¼ì¡Œë‹¤')
        }
    })
</script>

{#each photos as photo (photo.id)}
<figure>
    <img src={photo.thumbnailUrl} alt={photo.title}>
    <figcaption>{photo.title}</figcaption>
</figure>
{:else} 
<p>is loading....</p>
// ë°˜ë³µë¬¸ì—ì„œë„ else ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ if ë¥¼ ì»ê¸°ë•Œë¬¸ì¸ë“¯!
{/each}
```

#### 8 - 3. onDestroy
- ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ì œê±°ë˜ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë¼ì´í”„ì‚¬ì´í´ í•¨ìˆ˜
- onMount, onDestroy  ë‘˜ë‹¤ console.log() ì°ì—ˆì„ë•Œ, ì œê±°ë˜ê¸°ì „ì¸ onDestroy ë¨¼ì € ì½˜ì†”ì— ì°íˆê³  ê·¸ ì´í›„ì— onMount ê°€ ì°íˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```javascript
// ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸
<script>
	import Child from './Child.svelte'
	let condition = true;
</script>

<button on:click={()=> condition = !condition}></button>

{#if condition}
<Child></Child>
{/if}

// ìì‹ ì»´í¬ë„ŒíŠ¸
<script>
    import { onMount } from 'svelte'
    import { onDestroy } from 'svelte'
    let seconds = 0;

    const interval = setInterval(() => {
        seconds += 1;
        console.log(seconds);   
    }, 1000);

    onDestroy(()=>{
        console.log('onDestroy');
        clearInterval(interval)
    })
    onMount(()=>{
        return () => {
            console.log('onMount');
        }
    })
</script>

<p>{seconds}ì´ˆ</p>
```

#### 8 - 4. ë¼ì´í”„ ì‚¬ì´í´ ëª¨ë“ˆí™”
- ì¼ë°˜ì  js íŒŒì¼ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

```javascript
// ê¸°ì¡´ ìì‹ ì»´í¬ë„ŒíŠ¸ 
<script>
    import { onInterval } from './utils.js'
    let seconds = 0;

    onInterval(()=> seconds += 1, 1000 )
</script>

<p>{seconds}ì´ˆ</p>

// utils.js íŒŒì¼ ìƒì„±
import { onDestroy } from 'svelte'

function onInterval(seconds, ms){
    const interval = setInterval(seconds, ms);
    onDestroy(() => {
        console.log('onDestroy');
        clearInterval(interval)
    })
}

export { onInterval}
```

#### 8 - 5. beforeUpdateì™€ afterUpdate
- beforeUpdate ëŠ” mount ë˜ê¸° ì „ì— í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì— undefinedê°€ ì°íŒë‹¤
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— beforeUpdate ë¥¼ ì‚¬ìš©í• ë•ŒëŠ” ë°ì´í„° ë°”ì¸ë”©ìœ¼ë¡œ p ë¥¼ ê°€ì ¸ì˜¤ê³ , p && p.innerText ë¡œ ì˜ˆì™¸ì²˜ë¦¬ í•´ì¤€ë‹¤. ( DOM ì´ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬í•˜ëŠ” ë¡œì§)

```javascript
<script>
	import { onMount, afterUpdate, beforeUpdate } from 'svelte'
	let number = 0
	let p;

	beforeUpdate(()=>{
		console.log("beforeUpdate", p&&p.innerText);
	})
	onMount(()=>{
		console.log("onMount" );
	})
	afterUpdate(()=>{
		console.log("afterUpdate", p.innerText);
	})

</script>

<button on:click={()=> number += 1}>Add</button>
<p bind:this={p}>{number}</p>
```

#### 8 - 6. tick
- ì–¸ì œë“ ì§€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´í”„ì‚¬ì´í´ í•¨ìˆ˜
- svelte ëŠ” ë°ì´í„°ì˜ ë³€ê²½ì„ ì¦‰ê°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šê³  ìŒ“ì•„ë‘ì—ˆë‹¤ê°€ í•œë²ˆì— ë°”ê¾¸ê²Œ ë¨ìœ¼ë¡œì¨ ë¶ˆí•„ìš”í•œ ë™ì‘ì„ ì¤„ì´ê³  ë¸Œë¼ìš°ì €ê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë‹¤.

```javascript
<script>
	import {tick} from 'svelts'
	let text = 'what the fuck!!!!!!'

	async function handleKeyDown(event){
		if(event.which !== 9) return;

		const { selectionStart, selectionEnd, value } = this;
		const selection = value.slice(selectionStart, selectionEnd)

		// ë§Œì•½ ì†Œë¬¸ìë©´ ëŒ€ë¬¸ìë¡œ , ëŒ€ë¬¸ìë©´ ì†Œë¬¸ìë¡œ
		const replacement = /a-z/.test(selection)
			? selection.toUpperCase()
			: selection.toLowerCase();

		// ì„ íƒí•˜ì§€ ì•Šì€ ê°’ì€ ê·¸ëŒ€ë¡œ + ì„ íƒí•œ ê°’ì€ ì†Œë¬¸ì || ëŒ€ë¬¸ìë¡œ + ì„ íƒí•˜ì§€ ì•Šê³  ë‚¨ì€ë¶€ë¶€ë¶„ ê·¸ëŒ€ë¡œ 
		text = (value.slice(0, selectionStart) + replacement + value.slice(selectionEnd))

		await tick(); 
		// ìŠ¤í¬ë¡¤í•œ ë¶€ë¶„ ìœ ì§€ì‹œì¼œì£¼ê¸° ìœ„í•œ 
		this.selectionStart = selectionStart
		this.selectionEnd = selectionEnd

	}
</script>

<textarea bind:value={text} on:keydown|preventDefault={handleKeyDown}></textarea>
```






