---
layout: post
title: "Svelte ì…ë¬¸ ê°•ì˜ - Aë¶€í„° Zê¹Œì§€ 5"
description: " "
date: 2020-11-17
tags: [javascript]
comments: true
share: true
---

## 5ï¸âƒ£
### ğŸ–¥ ì• ë‹ˆë©”ì´ì…˜
#### 12 - 1. ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš©í•˜ê¸°
- animate ë¼ëŠ” ë””ë ‰í‹°ë¸Œë¥¼ ì œê³µ
- flip : delay, easing, duration

```javascript
// src/App.svelte
<script>
	import { flip } from 'svelte/animate'

	let items = [1];
	function addItem(){
		items.unshift(Math.max(...items) + 1);
		items = items;
	}

	function removeItem(){
		items.shift();
		items = items;
	}
</script>

<button on:click={addItem}>add</button>
<button on:click={removeItem}>remove</button>

{#each items as item (item)}
	<p animate:flip={{delay:1000, duration:2000}}>{item}</p>
{/each}
```

#### 12 - 2. ì»¤ìŠ¤í…€ ì• ë‹ˆë©”ì´ì…˜
- ì• ë‹ˆë©”ì´ì…˜ì€ 3ê°œì˜ íŒŒë¼ë¯¸í„° ê°’ì„ ê°€ì§ 
-   `node`: ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ì• ë‹ˆë©”ì´ì…˜ì´ ì ìš©ë˜ëŠ” HTML ìš”ì†Œì…ë‹ˆë‹¤.
-   `{ from: DOMRect, to: DOMRect }`: ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì‹œì‘ë  ë•Œì˜ ì •ë³´  `from`ê³¼ ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚  ë•Œì˜ ì •ë³´  `to`ë¥¼ ì†ì„±ìœ¼ë¡œ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
    -   `DOMRect`: ì• ë‹ˆë©”ì´ì…˜ì´ ì ìš©ë˜ëŠ” ìš”ì†Œì˜ ìœ„ì¹˜ í¬ê¸° ë“±ì˜ ì •ë³´ë¥¼ ê°€ì§€ëŠ” ê°ì²´ì…ë‹ˆë‹¤.
-   `params`: ì„¸ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ”  `animate:ì• ë‹ˆë©”ì´ì…˜ ì´ë¦„={params}`ì˜  `params`ë¡œ ì „ë‹¬ë  ê°’ì…ë‹ˆë‹¤. ëª¨ë“  í˜•íƒœì˜ ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
animation = (node: HTMLElement, { from: DOMRect, to: DOMRect } , params: any) => {
  delay?: number,
  duration?: number,
  easing?: (t: number) => number,
  css?: (t: number, u: number) => string,
  tick?: (t: number, u: number) => void
}

```

```
DOMRect {
  bottom: number,
  height: number,
  â€‹â€‹left: number,
  right: number,
  â€‹top: number,
  width: number,
  x: number,
  y: number
}
```

- ì• ë‹ˆë©”ì´ì…˜ì€ ê°ì²´ë¥¼ ë¦¬í„´í•´ì•¼ í•¨
-   `delay`: ë‹¨ìœ„ëŠ” msë¡œ ì„¤ì •í•œ ì‹œê°„ì´ ì§€ë‚œ í›„ì— ì• ë‹ˆë©”ì´ì…˜ì„ ì‹œì‘í•©ë‹ˆë‹¤.
-   `duration`: ë‹¨ìœ„ëŠ” msë¡œ ì„¤ì •í•œ ì‹œê°„ ë™ì•ˆ ì• ë‹ˆë©”ì´ì…˜ì´ ë™ì‘í•©ë‹ˆë‹¤.
-   `easing`:  `p => t`  í˜•íƒœì˜ easing í•¨ìˆ˜ì…ë‹ˆë‹¤.  [https://svelte.dev/docs#svelte_easing](https://svelte.dev/docs#svelte_easing)  ì°¸ê³  ë°”ëë‹ˆë‹¤.
-   `css`:  `(t, u) => css`  í•¨ìˆ˜ì…ë‹ˆë‹¤.  `t`ëŠ” 0 ~ 1 ì‚¬ì´ì˜ ê°’ì´ê³ ,  `u`ëŠ”  `u === 1 - t`ì…ë‹ˆë‹¤. ìš”ì†Œê°€ ì¶”ê°€ë  ë•Œ  `t`ëŠ” 0ì—ì„œ 1ë¡œ ì¦ê°€í•˜ê³ , ìš”ì†Œê°€ ì œê±°ë  ë•Œ  `t`ëŠ” 1ì—ì„œ 0ìœ¼ë¡œ ê°ì†Œí•©ë‹ˆë‹¤.  `t`(í˜¹ì€  `u`)ì˜ ë³€í™”ì— ë”°ë¥¸ CSS ë¬¸ìì—´ì„ ë¦¬í„´í•´ì•¼ í•©ë‹ˆë‹¤.
-   `tick`:  `(t, u) => {...}`  í•¨ìˆ˜ì…ë‹ˆë‹¤. ë§¤ tickë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜ì…ë‹ˆë‹¤.

#### 12 - 3. ì• ë‹ˆë©”ì´ì…˜ ì‚¬ìš©ì‹œ ì£¼ì˜ì‚¬í•­
- each ë°˜ë³µë¬¸ì—ì„œ keyê°’ í•„ìˆ˜ ! : animate ë¶€ë¶„ì— ë¹¨ê°„ì¤„ í‘œì‹œ!
- ë°°ì—´ì´ ì¬ì •ë ¬ ë ë•Œ ì• ë‹ˆë©”ì´ì…˜ì´ íŠ¸ë¦¬ê±° ë˜ê¸°ë•Œë¬¸ì— ì£¼ì˜í•´ì„œ ì‚¬ìš©í•  ê²ƒ

> ê¸°ì¡´ unshift ì¼ë•ŒëŠ” ì œê±°ë ë•Œë„ ì• ë‹ˆë©”ì´ì…˜ì´ ë™ì‘í–ˆì§€ë§Œ, pop ì„ ì´ìš©í–ˆë”ë‹ˆ ì œê±°ë ë•Œ ì• ë‹ˆë©”ì´ì…˜ì´ ë¨¹ì§€ ì•ŠëŠ”ë‹¤..!
> ì—¬ê¸°ì„œ íŠ¸ë¦¬ê±°ë€ ? íŠ¸ë¦¬ê±°(Trigger)ë€ ì˜ì–´ë¡œ ë°©ì•„ì‡ ë¼ëŠ” ëœ»ì¸ë°, ë°©ì•„ì‡ ë¥¼ ë‹¹ê¸°ë©´ ê·¸ë¡œ ì¸í•´ ì´ê¸° ë‚´ë¶€ì—ì„œ ì•Œì•„ì„œ ì¼ë ¨ì˜ ì‘ì—…ì„ ì‹¤í–‰í•˜ê³  ì´ì•Œì´ ë‚ ì•„ê°‘ë‹ˆë‹¤. ì´ì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œë„ íŠ¸ë¦¬ê±°(Trigger)ëŠ” íŠ¹ì • í…Œì´ë¸”ì— INSERT, DELETE, UPDATE ê°™ì€ DML ë¬¸ì´ ìˆ˜í–‰ë˜ì—ˆì„ ë•Œ, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìë™ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì‘ì„±ëœ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ì¦‰! ì‚¬ìš©ìê°€ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìë™ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ê°€ì¥ í° íŠ¹ì§•ì…ë‹ˆë‹¤. 
> ì¶œì²˜ : https://limkydev.tistory.com/154

- ë°˜ë³µë¬¸ animate ë””ë™í‹°ë¸Œê°€ ì§ê³„ìì†ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. > divë¡œ í•œë²ˆë” ê°ì‹¸ê²Œ ë˜ë©´ ë¹¨ê°„ì¤„ëœ¬ë‹¤!

### ğŸ–¥ ì•¡ì…˜
#### 13 - 1. ì•¡ì…˜ ë§Œë“¤ê¸°
- ì»¤ìŠ¤í…€ ë””ë ‰í‹°ë¸Œë¥¼ ë§Œë“ ë‹¤ ( ì•¡ì…˜ì€ íŠ¸ë Œì§€ì…˜, ì• ë‹ˆë©”ì´ì…˜ê³¼ ê°™ì€ ë™ì‘ì´ë‹¤. )

```
action = (node: HTMLElement, parameters: any) => {
  update?: (parameters: any) => void,
  destroy?: () => void
}
```

- íŒŒë¼ë¯¸í„° : ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ì•¡ì…˜ì´ ì„ ì–¸ëœ ìš”ì†Œ, ë‘ë²ˆì§¸ëŠ” use:ì•¡ì…˜ ì´ë¦„={parameters}ë¡œ ì „ë‹¬ë˜ëŠ” parameters
- ë¦¬í„´ê°’ : update, destroy ì†ì„±ì„ ê°€ì§„ ê°ì²´ë¥¼ ë¦¬í„´ / update, destroy ì€ ì•¡ì…˜ì˜ ë¼ì´í”„ì‚¬ì´í´ í•¨ìˆ˜
- update: ë”ì´ ë§ˆìš´íŠ¸ ëœ í›„ íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ ë ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” ë¼ì´í”Œ ì‚¬ì´í´ í•¨ìˆ˜
- destroy : ì•¡ì…˜ì´ ì„ ì–¸ëœ ë”ì´ ì œê±°ë ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
- mount : ì•¡ì…˜í•¨ìˆ˜ì˜ ì„ ì–¸ë¶€ë¶„ì´ ë§ˆìš´í‹°ë“œ ë¬ì„ë•Œ í˜¸ì¶œë˜ëŠ” ë¶€ë¶„ 

```javascript
// src/App.svelte
<script>
	function longpress( node, duration){
		let timer;

		function handleMouseDown(){
			timer = setTimeout(()=>{
				node.dispatchEvent(new CustomEvent('longpress'))
			}, duration)
		}

		function handleMouseUp(){
			clearTimeout(timer)
		}

		node.addEventListener('mouseDown', handleMouseDown)
		node.addEventListener('mouseUp', handleMouseUp)
		// longpress ì•¡ì…˜ì´ ì •ì˜ëœ html ìš”ì†Œê°€ mount ë¬ì„ë•Œ í˜¸ì¶œë˜ëŠ” ë¶€ë¶„ 

		return {
			update(newValue){
				duration = newValue
			},
			destroy(){
				node.removeEventListener('mouseDown', handleMouseDown)
				node.removeEventListener('mouseUp', handleMouseUp)
			}
		}
	}
	let duration = 200;

	function handleLongpress(){
		alert('longpress')
	}
</script>

<input type="range" bind:value={duration} min='100' max="2000">

<button 
	use:longpress={duration}
	on:longpress={handleLongpress}
	>
	Click
</button>
```

### ğŸ–¥ Slot
#### 14 - 1. Slot ì‚¬ìš©í•˜ê¸°
- ìŠ¬ë¡¯ì„ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì— ìì‹ìš”ì†Œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

```javascript
// src/Box.svelte
<div class="box">
    <slot></slot>
</div>

// src/App.svelte
<script>
	import Box from './Box.svelte'
</script>

<Box>
	<!-- boxì»´í¬ë„ŒíŠ¸ ì•ˆì— slotì„ ë„£ì–´ì¤¬ê¸° ë•Œë¬¸ì—, ìì‹ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ëœë‹¤. -->
	<h1>Box component</h1>
	<p>Hello</p>
</Box>
```

#### 14 - 2. Default Slot
- slot íƒœê·¸ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ìì‹ìš”ì†Œë¥¼ ì •ì˜í•´ì£¼ì§€ ì•Šìœ¼ë©´ Default Slotì´ ë³´ì—¬ì§€ê²Œ ëœë‹¤.

```javascript
// src/Box.svelte
<div class="box">
    <slot>
        <p>ê°’ì´ ì—†ìŠµë‹ˆë‹¤!</p>
    </slot>
</div>

// src/App.svelte
<script>
	import Box from './Box.svelte'
</script>

<Box></Box>
```

- ìœ„ì™€ ê°™ì€ ìƒí™©ì¼ë•Œ slotì— ì •í•´ë†“ì€ ê°’ì´ì—†ìŠµë‹ˆë‹¤ ë¼ëŠ” í…ìŠ¤íŠ¸ê°€ í™”ë©´ì— ì°íŒë‹¤. -> Default Slot

#### 14 - 3. Named Slot
- ì»´í¬ë„ŒíŠ¸ ìì‹ìš”ì†Œë¥¼ íŠ¹ì • ìœ„ì¹˜ì— ìœ„ì¹˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤

```javascript
// src/Box.svelte
<div>
    <slot name="title"></slot>
    <slot name="content"></slot>
    <slot name="detail"></slot>
</div>

// src/App.svelte
<script>
	import Box from './Box.svelte'
</script>

<Box>
	<p slot="title">title</p>
	<p slot="content">content</p>
	<p slot="detail">detail</p>
</Box>

<Box>
	<p slot="content">content</p>
	<p slot="detail">detail</p>
	<p slot="title">title</p>
</Box>

<!--  ì´ë ‡ê²Œ ìˆœì„œë¥¼ ì„ì–´ë„, ì¶œë ¥ ê²°ê³¼ë¬¼ì€ ê°™ë‹¤. ì´ìœ ëŠ” box componentì—ì„œ ì •í•œ ìœ„ì¹˜ê°’ì´ ìˆê¸°ë•Œë¬¸ì—, ê¸°ì¤€ì´ box componentì´ ëœë‹¤. -->
```

#### 14 - 4. Slot props

```javascript
// src/Hoverable.svelte
<script>
    let hovering;
    function enter (){
        hovering = true;
    }
    function leave (){
        hovering = false;
    }

</script>

<div 
    on:mouseenter={enter}
    on:mouseleave={leave}
> 
    <slot hovering={hovering}></slot>
</div>

// src/App.svelte
<script>
	import Hoverable from './Hoverable.svelte'
</script>

<Hoverable let:hovering={active}>
	<!-- actvieë¼ëŠ” ë³€ìˆ˜ê°€ ì •ì˜ë˜ì–´ìˆì§€ ì•ŠìŒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, í•´ë‹¹ íƒœê·¸ ì•ˆì—ì„œë§Œ ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. -->
	<!-- ê·¸ë ‡ê¸° ë•Œë¬¸ì—  Hoverable íƒœê·¸ê°€ ë˜ ìˆë‹¤ê³  í•˜ë”ë¼ë„, activeëŠ” ë…ë¦½ì ì´ë‹¤. -->
	<div class:active>
		{#if active}
		<p>activeê°€ í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
		{:else}
		<p>activeê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
		{/if}
	</div>
</Hoverable>

<style>
	div {
		padding: 1em;
		background-color: #eee;
	}
	.active {
		background-color: hotpink;
		color: white;
	}
</style>
```

### ğŸ–¥ Context API
#### 15 - 1. Context ì‚¬ìš©í•˜ê¸°
- Contextë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ì™€ ìì‹ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ ë°ì´í„° ê³µìœ ê°€ ê°€ëŠ¥í•´ ì§„ë‹¤.

```javascript
// src/context.js
const key = {}

export {
    key
}

// src/Box.svelte
<script>
    import { key } from './context.js'
    import { setContext } from 'svelte'

    const context = {
        name: 'Bill',
        job: 'actor',
        age: 30
    }

    setContext(key, {
        context
    })
</script>

<div>
    <slot></slot>
</div>

// src/Child.svelte
<script>
    import { key } from './context.js'
    import { getContext } from 'svelte'

    const { context } = getContext(key);
</script>

<p>{context.name}</p>
<p>{context.job}</p>
<p>{context.age}</p>

//src/App.svelte
<script>
	import Box from './Box.svelte'
	import Child from './Child.svelte'
</script>

<Box>
	<Child></Child>
</Box>

```

- ìœ„ì—ì²˜ëŸ¼ context.js ì— ë¹ˆ key ê°’ì„ ì €ì¥í•´ì£¼ê³ , Boxì—ì„œ key ê°’ ì €ì¥í›„ Child ì—ì„œ ê·¸ key ê°’ì„ ë°›ì•„ì˜¤ëŠ”ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.
- ì´ë•Œ svelteì—  setContext ì™€ getContext ë¥¼ ì´ìš©í•œë‹¤ ! 

#### 15 - 2. Contextì™€ Store
- Contextì™€ Store :  ë°ì´í„°ë¥¼ ê³µìœ í•œë‹¤ëŠ” ì ì—ì„œ ìœ ì‚¬í•˜ë‹¤ 
- Store ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì–´ëŠ ìœ„ì¹˜ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥ 
- Context ëŠ” Context ë¥¼ ì„ ì–¸í•œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì°¨ì´
- Context / í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê²Œ ë ë•Œ ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, ê°ê°ì˜ ìƒíƒœë¥¼ ê°€ì§„ë‹¤ëŠ” ì¥ì 
- ContextëŠ” ë°˜ì‘í˜•ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šê¸°ë•Œë¬¸ì—, ë°˜ì‘í˜• ë™ì‘ì„ ì›í•  ê²½ìš° storeë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§ë‹¤.
- ContextëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë ë•Œ í˜¸ì¶œë˜ì–´ì•¼ í•œë‹¤. ( í´ë¦­ì´ë²¤íŠ¸ í•¨ìˆ˜ ì•ˆì— set, getContextë¥¼ ë„£ìœ¼ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. )

### ğŸ–¥ Svelte ìš”ì†Œ
#### 16 - 1. <svelte:self>
- 6ê°€ì§€ì˜ ë‚´ì¥ ìš”ì†Œë¥¼ ì œê³µí•œë‹¤ .
- self : ìê¸°ìì‹ ì„ ë‹¤ì‹œ ì‚¬ìš©í•˜ê² ë‹¤ ex svelte:self {...flies}
- ìì„¸í•œ ì„¤ëª… : [ìŠ¤ë²¨íŠ¸ ê³µì‹ë¬¸ì„œ](https://svelte.dev/tutorial/svelte-self), [<svelte:self>](https://beomy.github.io/tech/svelte/svelte-elements/)

#### 16 - 2. [ì‹¤ìŠµ] <svelte:self> - JSON parser ë§Œë“¤ê¸°

```javascript
// src/jsonItem.svelte
<script>
    export let json;
    export let key = 'JSON';

    const obj = JSON.parse(json)
    let expended = false;
    const entries = Object.entries(obj)
    // Object.entries -> [key, value] ìŒì˜ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤
    const type = Object.prototype.toString.call(obj)
    // ì–´ë–¤ íƒ€ì…ì¸ì§€ í™•ì¸ ! 
    let value;
    if(type === '[object Array]'){
        value = `[${entries.length}]`
    }else if(type === '[object Object]'){
        value = `{${entries.length}}`
    }else {
        value = json
    }
</script>

<div>
    <span>{key}</span>: <span on:click={()=> expended = !expended}>{value}</span>
    {#if expended}
        {#each entries as [key, value], index (index)}
        <svelte:self {key} json={JSON.stringify(value)}></svelte:self>
        {/each}
    {/if}
</div>

// src/App.svelte
<script>
	import JsonItem from './JsonItem.svelte'
	let json = JSON.stringify({
		a: 1,
		b: [
			1,
			2,
			3
		],
		c: {
			d: 1,
			e: 2
		},
		f : 'test'
	})
</script>

<JsonItem {json}></JsonItem>
```

#### 16 - 3. <svelte:component>

```javascript
// src/App.svelte

<script>
	import Green from './Green.svelte'
	import Blue from './Blue.svelte'
	import Red from './Red.svelte'

	const options = [
		{color: 'green', component: Green},
		{color: 'blue', component: Blue},
		{color: 'red', component: Red},
	]

	let selected = options[0]
</script>

<select bind:value={selected}>
	{#each options as option (option.color)}
	<option value={option}>{option.color}</option>
	{/each}
</select>

<!-- {#if selected.color === 'red'}
<Red />
{:else if selected.color === 'green'}
<Green />
{:else if selected.color === 'blue'}
<Blue />
{/if} -->

<!-- ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ component ë¥¼ ì´ìš©í•˜ë©´ ë” ê°„ê²°íˆ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. -->

<svelte:component this={selected.component}/>

<!-- ë˜‘ê°™ì€ í™”ë©´ì´ êµ¬í˜„ëœë‹¤. -->

// ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê° div ì™€ ë°°ê²½ìƒ‰ì„ ì¤€ ìƒíƒœ
```

#### 16 - 4. <svelte:window>
- ìœˆë„ìš°ê°ì²´ì— ê°„í¸í•˜ê²Œ ê°’ì„ ë°”ì¸ë”© í•  ìˆ˜ìˆê³ , ì´ë²¤íŠ¸ë„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
- ë°”ì¸ë”© ê°€ëŠ¥ ëª©ë¡ : innerWidth, innerHeihgt, outerWidth, outerHeight, scrollX, scrollY, online( window.navigator.onLine )
- scrollXì™€ scrollYë¥¼ ì œì™¸í•œ ëª¨ë“  ê°’ì€ readonly

```javascript
// src/App.svelte
<script>
	let key;
	let keyCode;
	let innerWidth;
	let innerHeight;
	let scrollY;
	function handleKeyDown(event){
		key = event.key
		keyCode = event.keyCode
	}
</script>

<svelte:window 
	on:keydown={handleKeyDown}
	bind:innerWidth={innerWidth}
	bind:innerHeight={innerHeight}
	bind:scrollY={scrollY}
/>

<p>{innerWidth}, {innerHeight}</p>
<div>
	{key}, {keyCode}
</div>

<button on:click={()=> scrollY = 0}>TOP({scrollY})</button>

<style>
	div {
		height: 200vh;
	}
	button {
		position: fixed;
		bottom: 0;
		right: 0;
	}
</style>
```

#### 16 - 5. <svelte:body>
- body ì™€ window ëŠ” ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•˜ë‹¤!

```javascript
// src/App.svelte
<script>
	let isEnter;
	function handleMouseenter(){
		isEnter = true;
	}
	function handleMouseleave(){
		isEnter = false;
	}
</script>

<svelte:body
	on:mouseenter={handleMouseenter}
	on:mouseleave={handleMouseleave}
/>

{isEnter}
// ì´ë ‡ê²Œ ë°”ë””ì— ë“¤ì–´ì˜¤ë©´ true, ë‚˜ê°€ë©´ false ë¥¼ ì°ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
```

#### 16 - 6. <svelte:head>

```javascript
// src/App.svelte
<svelte:head>
	<meta name="James">
</svelte:head>
```

- ìœ„ì™€ ê°™ì´ ì¶”ê°€í•´ì£¼ë©´, ê¸°ì¡´ index html ì— ì—†ëŠ” meta íƒœê·¸ê°€ ìƒê¸´ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

#### 16 - 7. <svelte:options>
- ì»´íŒŒì¼ì˜µì…˜ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- immutable, accessors, namespace, tag -> 4ê°€ì§€ ì†ì„±ì´ ìˆë‹¤.
- immutable : ë¶ˆí•„ìš”í•œ ë°˜ì‘ì„±ì„ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©ë¨

```javascript
// src/App.svelte
<script>
	import Todo from './Todo.svelte'

	let todos = [
		{id:1, done: false, text: 'ê³µë¶€í•˜ê¸°'},
		{id:2, done: false, text: 'ë°¥ë¨¹ê¸°'},
		{id:3, done: false, text: 'ìš´ë™í•˜ê¸°'},
	]

	function toggle(toggled){
		todos = todos.map( x => {
			return x === toggled ? {id: x.id, done: !x.done, text: x.text} : x
		})
	}
</script>

{#each todos as todo (todo.id)}
	<Todo {todo} on:click={()=> toggle(todo)}></Todo>
{/each}

// src/Todo.svelte
<script>
    import { afterUpdate } from 'svelte'
    export let todo;

    let updateCount = 0;
    afterUpdate(()=> {
        updateCount += 1;
    })
</script>

<svelte:options immutable={true}/>
<!-- ìœ„ì—ì²˜ëŸ¼ ì •ì˜í•´ì£¼ì§€ ì•Šìœ¼ë©´, í•˜ë‚˜ë§Œ ë³€ê²½ë˜ë„ íšŸìˆ˜ê°€ ëª¨ë‘ ì—…ë°ì´íŠ¸ëœë‹¤. -->

<div on:click>
    <!-- ë¶€ëª¨ ìš”ì†Œë¡œ í´ë¦­ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤. -->
    {todo.done}, {todo.text} / {updateCount}íšŒ
</div>
```

### ğŸ–¥ Module context
#### 17 - 1. Module context

```javascript
// src/App.svelte
<script>
	import Child from './Child.svelte'
</script>

<Child></Child>
<Child></Child>

// src/Child.svelte
<script context="module">
    //  context="module" -> ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë‚´ì— ì •ì˜ëœ íƒœê·¸ëŠ” ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤ ë‚´ì—ì„œ ê³µìœ ëœë‹¤.
    //  ë°˜ì‘í˜•ìœ¼ë¡œ ë™ì‘í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì½˜ì†”ë¡œê·¸ì—ì„œëŠ” ë³€ê²½ë˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    let count = 0;
</script>

<script>
    function handleClick(){
        count += 1;
    }
</script>

{count}
<button on:click={handleClick}>add</button>
```

#### 17 - 2. ì½”ë“œ ë‚´ë³´ë‚´ê¸°
-  Module context ë¥¼ ì´ìš©í•´ì„œ ì½”ë“œë¥¼ ë‚´ë³´ë‚´ëŠ” ë°©ë²•

```javascript
// src/App.svelte
<script>
	import Child, { printCount } from './Child.svelte'
</script>

<Child></Child>
<Child></Child>
<button on:click={printCount}>Show</button>

// src/Child.svelte
<script context="module">
    let count = 0;
    export function printCount(){
        alert(count);
    }
</script>

<script>
    function handleClick(){
        count += 1;
    }
</script>

{count}
<button on:click={handleClick}>add</button>
```



















