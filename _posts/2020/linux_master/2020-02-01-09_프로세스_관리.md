---
layout: post
title: "[linux기초] 9. 프로세스 관리"
description: " "
date: 2020-02-01
tags: [linux]
comments: true
share: true
---

## ���μ����� ����

- ������ �з�
  - Run Level 0 : �ý����� ����
  - Run Level 1 : ���� ����� ���
  - Run Level 2 : ���� ����� ��� (NFS ���� X)
  - Run Level 3 : ���� ����� ��� (�ؽ��� ���� ���)
  - Run Level 4 : ����� ���� ���
  - Run Level 5 : �׷��� ���� ���
  - Run Level 6 : �ý��� �����

- ���׶���/��׶���
  - ���׶���(foreground) : ���׶���� �����Ų ���μ����� ����Ǳ� �������� �ٸ� �۾��� �� �� ����
  - ��׶���(background) : ���μ����� ��׶���� �����Ű�� �ٸ� �۾� ������ �����ϴ�
    - ���ɾ� �������� `&`�� �ٿ� �����ϸ� ��׶���� �����ų �� �ִ�

## ���� ���ɾ�

- top ���ɾ�
  - CPU ���μ����� ��Ȳ�� �ǽð����� ������ִ� ���ɾ�
  - �ֿ� ���� ���ɾ�
    - l : ����� load average �׸� �ѱ�/����
    - t : ����� ���μ����� CPU �׸� �ѱ�/����
    - m : ����� �޸� �׸� �ѱ�/����
    - M : �޸� ��뷮�� ū ������ ����
    - P : CPU ��뷮�� ū ������ ����
    - k : �Է��� PID�� ���μ��� ����
    - q : ����
  - �� �ʵ� ����
    - PID : ���μ��� ID
    - USER : ���μ����� �����Ų �����
    - PR : ���μ��� �켱 ����
    - NI : NICE ��
    - VIRT : ���μ����� ����ϴ� ���� �޸�
    - RES : ���μ����� ����ϴ� ���� �޸� ũ��
    - S : ���μ����� ���� (S : sleeping, �޸���� / R : Running, ������� / Z : Zombie, ���� ���μ��� / ... )
    - %CPU : ���μ����� ����ϴ� CPU�� ����
    - %MEM : ���μ����� ����ϴ� �޸��� ����
    - TIME+ : ���μ����� CPU�� ����� �ð�
    - COMMAND : ����� ���ɾ�

- ps ���ɾ�
  - ���� �������� �۾��� ����ڿ� PID�� ����ϴ� ���ɾ�
  - �ֿ� �ɼ�
    - [-a] : ��� ���μ��� ���
    - [-e] : �ش� ���μ����� ���õ� ȯ�溯�� ������ �Բ� ���
    - [-f] : ���� �׸�鿡 ���� ������ ���
    - [-u USERNAME|UID] : ������ ����ڰ� ������ ���μ����� ���
    - [-p PID] : ������ ���μ����� ������ ���
  - �� �ʵ� ����
    - PID : ���μ��� ID
    - PPID : �θ� ���μ��� ID
    - TTY : ���μ����� ����� �͹̳� ��Ʈ
    - C : ���μ����� ����ϴ� CPU�� ����
    - STIME : ���μ����� ���۵� �ð�
    - STAT : ���μ����� ���� (top ���ɾ��� S �ʵ�� ����)

- pstree ���ɾ�
  - ���� ���� ���μ����� Ʈ�� ���·� ����ϴ� ���ɾ�
  - �ֿ� �ɼ�
    - [-c] : �ߺ�4���� ���μ����� ���
    - [-n] : PID�� �������� �����Ͽ� ���
    - [-p] : PID�� ���� ���
    - [-u] : UID�� ���� ���

- pgrep ���ɾ�
  - ������ ���ϰ� ��ġ�ϴ� ���μ����� ���� ������ ���
  - �ֿ� �ɼ�
    - [-x] : ���ϰ� ��Ȯ�� ��ġ�ϴ� ���μ��� ������ ���
    - [-u] : ������ ����ڿ� ���� ��� ���μ��� ���
  - ��µǴ� ������ ���� �ʱ� ������ ps ���ɾ�� �Բ� ���ȴ�

- ���μ��� ���� ���ɾ�
  - kill ���ɾ�
    - ���μ����� �ñ׳��� �����ϴ� ���ɾ�
    - ���� : `# kill [�ñ׳�][PID]`
    - �ɼ��� �������� ������ 15�� �ñ׳η� ���ֵǾ� ����ȴ�
    - pgrep ���ɾ ����ϸ� pkill/killall ���ɾ�� ���� ȿ���� �� �� �ִ�
      > ```# kill `pgrep sleep` ```
      > `# kill $(pgrep sleep)`
      > `# killall sleep` 
      > ���� �� ���� ����� ��Ÿ����
  - pkill ���ɾ�
    - kill ���ɾ�� ������ ������ PID ��� �ش� ���ɾ��� ���μ����� �����ϴ� ���ɾ�
    - kill ���ɾ�� ������ PID�� ���μ��� �ϳ��� ���������, pill ���ɾ�� ������ ���ɾ ���õ� ���� ���μ������� �Ѳ����� ����ȴ�
  - killall ���ɾ�
    - pkill ���ɾ�� ����� ����

- �켱���� ���� ���ɾ�
  - nice ���ɾ�
    - ������ ���μ����� �켱����(top ���ɾ��� NI ��)�� �����ϴ� ���ɾ�
    - [-n] �ɼ����� �켱������ ������ �� �ִ�
      > `# nice -n 15 top` : top ���ɾ��� �켱������ 15����
    - �ɼǾ��� ���� �� ������ ���μ����� �켱������ 10 ������Ų��
    - nice ���ɾ�� �켱������ �����ϸ� ���ο� ���μ����� �߰��ȴ�
    - �켱���� ������ -20 ~ 19 ������ ������, �켱���� ���� �������� �켱������ ����
    - �켱���� ���� ���ߴ� ��(�켱������ �������� ��)�� root �� ī���ϰ� �Ϲ� ������ �켱���� ���� ���̴� �͸� �����ϴ�
  - renice ���ɾ�
    - ������ PID/UID/GID�� �켱������ �����ϴ� ���ɾ�
    - [-u UID|USERNAME] : ������ UID�Ǵ� ������� ��� ���μ����� �켱������ ����
    - [-g GID] : ������ GID�� ��� ���μ����� �켱������ ����
    - [-p PID] : ������ PID�� �켱������ ����
    - nice ���ɾ�� �ٸ��� ������ �켱������ ���� �ٷ� �����ǰ� ���ο� ���μ����� �߰����� �ʴ´�
      > `# renice 10 -u fedora` : fedora ������� ��� ���μ����� �켱������ 10���� ����

- ��׶��� �۾� ���� ���ɾ�
  - jobs ���ɾ�
    - ��׶��� �۾��� ����ϴ� �꿵��
    - [-l] : �۾��� PID�� ���� ���
    - [-p PID] : �ش� PID�� �۾��� ���
    - [-r] : Running ������ �۾��� ���
    - [-s] : Stoppped ������ �۾��� ���
    - %[�۾���ȣ]�� �ش� �۾��� ������ ����� �� �ִ�
    - �۾���ȣ �ڿ� ��ȣ '+'�� ���� �ֱٿ� ������ �۾��� �ǹ��ϰ� '-'�� '+' �۾� �ٷ� ������ ������ ������ �ǹ�
  - nohup ���ɾ�
    - �α׾ƿ� �� �ڿ��� ��׶��忡�� �۾��� ��� �����ϵ��� �ϴ� ���ɾ�
    - ���� : `# nohub [���ɾ�] &`
      > `# nohup find / -name shell &` : 'find / -name shell'���ɾ ��׶���� �۾��� ��� �����ϵ��� ��
  - fg / bg ���ɾ�
    - ������ �۾���ȣ�� ���� �۾��� ���׶���/��׶��� �������� �ű�� ���ɾ�
      > `# bg %3` : jobs ���ɾ�� Ȯ���� �۾���ȣ 3�� �۾��� ��׶���� �����ϵ��� ��
    - �۾���ȣ ���� ���� ���� �� ���� �ֱ� �۾��� ���� ������ ����

- �۾� ���� ���� ���ɾ�
  - at ���ɾ�
    - ������ �ð��� ������ ������ �ѹ��� �����ϴ� ���ɾ�
    - [-l] : ���� ���� ���ɾ� ����� ��� = atq ���ɾ�� ���� ���
    - [-r] : ������ ����� �۾��� ���� = atrm ���ɾ�� ���� ���
    - �������� ���� : /etc/at.allow, /etc/at.deny (at.allow ���� �켱)
  - crontab ���ɾ�
    - ������ �ð��� ������ ���ɾ �ֱ������� �����ϴ� ���ɾ�
    - [-e] : ������� crontab ������ ����
    - [-l] : crontab ������ ����� ���
    - [-r] : crontab ������ ����
    - crontab ���� ���� : [��][��][��][��][����][�۾�����]
      > `30 20 1 * * /usr/bin/ls -l ~fderoa > ~fdeora/cron.out` : �ſ� 1�� 20�� 30�п� `ls -l ~fedora`������ ���� ����� cron.out ���Ͽ� �����Ѵ�
      > `0 12-22/2 * * 1 /usr/bin/ps -ef` ���� ������ 12�ú��� 22�� ���� 2�ð����� 'ps -ef'���ɾ ����
      > `*/30 0-2 1 * * /usr/bin/ls -l ~guest > ~root/guest.out` : �ſ� 1�� 0�ú��� 2�ñ��� 30�и��� 'ls -l ~guest������ ���� ����� ~root/guest.out ���Ͽ� �����Ѵ�
    - �������� ���� : /etc/cron.allow, /etc/cron.deny (cron.allow ���� �켱)

