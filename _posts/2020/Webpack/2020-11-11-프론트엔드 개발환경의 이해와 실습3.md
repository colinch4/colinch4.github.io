---
layout: post
title: "í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œí™˜ê²½ì˜ ì´í•´ì™€ ì‹¤ìŠµ 3"
description: " "
date: 2020-11-11
tags: [frontend]
comments: true
share: true
---

## 3ï¸âƒ£
### ğŸ–¥ ë¦°íŠ¸(Lint)
#### 4 - 1. ESLint
- ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì´ê³  ì ì¬ì ì¸ ì˜¤ë¥˜ì™€ ë²„ê·¸ë¥¼ ì œê±°í•´ ë‹¨ë‹¨í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ” ê²ƒì´ ëª©ì 
- í¬ë§·íŒ… / ì½”ë“œí’ˆì§ˆ
- í¬ë§·íŒ… : ì½”ë“œë¥¼ ì¼ê´€ë˜ê²Œ ë§Œë“œëŠ”ê²ƒ
- ì½”ë“œí’ˆì§ˆ : ì½”ë“œê°€ ì˜¤ë¥˜ë¥¼ ê°€ì§€ê³  ìˆì„ë•Œ ì‚¬ì „ì— ì²´í¬

<br/>

- ğŸ˜¶ ì„¤ì¹˜ ë° ì‚¬ìš©ë²•
- $ npm i eslint
- .eslintrc.js ìƒì„± / eslintëŠ” ì´íŒŒì¼ì„ ì½ê³  eslintë¥¼ ì‹¤í–‰í•œë‹¤.
- eslint rules ì½”ë“œë¥¼ ê²€ì‚¬í•˜ëŠ” ê·œì¹™, í™˜ê²½ì„¤ì •ì— ì¶”ê°€í•´ì•¼ë§Œ ì½”ë“œë¥¼ ê²€ì‚¬
- [rules](https://eslint.org/docs/rules/)

```javascript
// .eslintrc.js
module.exports = {
    rules : {
        "no-unexpected-multiline" : "error"
        // ìœ„ì˜ ê·œì¹™ê³¼ ì–´ê¸‹ë‚˜ëŠ”ê²Œ ìˆë‹¤ë©´ "error" ë¥¼ ë°˜í™˜
    }
}

//app.js
console.log()
(function() {})()
```

- $ npx eslint app.js

<img src="https://github.com/colinch4/colinch4.github.io/blob/master/_posts/2020/Webpack/images/webpack_lint.png?raw=true" width="70%">

- app.jsì— ì„¸ë¯¸ì½œë¡ ì„ ë¶™ì—¬ì£¼ë©´ ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
- .eslintrc.js ì— "no-extra-semi" ë¥¼ ë¶™ì—¬ì¤€ë‹¤ë©´ ì„¸ë¯¸ì½œë¡ ì´ ë§ì€ ê²½ìš°ì—ë„ "error"ì„ ë°˜í™˜í•œë‹¤.
- ì´ë•Œ í„°ë¯¸ë„ì— --fix ê°€ ëœ¨ëŠ”ë° $ npx eslint app.js --fix ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ìˆ˜ì •ëœë‹¤.

<img src="https://github.com/colinch4/colinch4.github.io/blob/master/_posts/2020/Webpack/images/webpack_%EB%9E%9C%EC%B9%98.png?raw=true" width="50%">

- í•´ë‹¹ ëœì¹˜ ëª¨ì–‘ì´ ìˆëŠ” ê·œì¹™ë“¤ì€ ìë™ìœ¼ë¡œ ìˆ˜ì •ì´ ëœë‹¤.

<br/>

- ì´ëŸ¬í•œ ê·œì¹™ì„ ì„¸íŠ¸ë¡œ ë§Œë“¤ì–´ ë†“ì€ê²ƒ -> Extensible Config 

```javascript
// .eslintrc.js
module.exports = {
  extends: ["eslint:recommended"],
  // ê·œì¹™ë“¤ ì¤‘ ì™¼ìª½ ì²´í¬ëœ ê·œì¹™ë“¤ì„ ëª¨ë‘ ì‚¬ìš©í• ìˆ˜ìˆìŒ
};
```

- ìœ„ ë¿ë§Œ ì•„ë‹ˆë¼ eslintì—ì„œ ì œê³µí•˜ëŠ” ì„¤ì • ì™¸ì˜ ìì£¼ ì‚¬ìš©í•˜ëŠ” ë‘ê°€ì§€ : airbnb / standard

<br/>

- eslint ì„¤ì •ì€ .eslintrc.js ë¡œ ì§ì ‘ ì‘ì„±í•˜ê¸° ë³´ë‹¤ëŠ” init ëª…ë ¹ì–´ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ í›¨ì”¬ ìˆ˜ì›” ($ npx eslint --init)
- To check syntax only : ì‹ íƒìŠ¤ë§Œ ì²´í¬í• ê²ƒì¸ê°€?
- To check syntax and find problems : ì‹ íƒìŠ¤ì²´í¬, ì½”ë“œí¬ë§·íŒ…, í’ˆì§ˆê¹Œì§€ ì²´í¬í• ê²ƒì¸ê°€? (ê¸°ë³¸)
- To check syntax, find problems, and enforce code style : ì‹ íƒìŠ¤ì²´í¬, ì½”ë“œí¬ë§·íŒ…, í’ˆì§ˆ, ì½”ë“œ ìŠ¤íƒ€ì¼(airbnb ,,)ê¹Œì§€ ì²´í¬í• ê²ƒì¸ê°€ ?

<img src="https://github.com/colinch4/colinch4.github.io/blob/master/_posts/2020/Webpack/images/webpack_eslint_init.png?raw=true" width="80%">

> ê¸°ë³¸ê°’

- .eslintrc.js ì— ë‚´ìš©ë“¤ë„ ìœ„ì— ì…‹íŒ…í•œ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ëœë‹¤.

#### 4 - 3. ESLint(í’€ì´)
- $ npx eslint --init ì´í›„ package.json scriptsì— "lint": "eslint src --fix" ì¶”ê°€
> src ì•ˆì—ìˆëŠ” ëª¨ë“  ì½”ë“œë¥¼ eslintë¡œ ê²€ì‚¬í•˜ê² ë‹¤. --fix ë¡œ ìë™ìˆ˜ì •í•˜ê² ë‹¤.
- $ npm run lint 

#### 4 - 4. í”„ë¦¬í‹°ì–´
- eslint ë³´ë‹¤ ì½”ë“œë¥¼ ë” ì˜ˆì˜ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤.
- ì½”ë“œë¥¼ ì¼ê´€ì ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í¬ë§·íŒ… -> eslint ë³´ë‹¤ ë” ê°•í™”
- ğŸ˜¶ ì„¤ì¹˜ ë° ì‚¬ìš©ë²•
- $ npm i prettier
- $ npx prettier app.js
- $ npx prettier app.js --write -> --write ì˜µì…˜ì„ ì£¼ë©´ íŒŒì¼ì´ ë³€ê²½ëœë‹¤.
- eslint ê°€ ê³ ì¹˜ì§€ ëª»í•´ì„œ ê°œë°œìì—ê²Œ ì§ì ‘ ê³ ì¹˜ë¼ê³  ë˜ì ¸ì£¼ëŠ” ë¶€ë¶„ì„ prettierì€ ìë™ìœ¼ë¡œ ê³ ì¹ ìˆ˜ ìˆë‹¤.

<br/>

- **eslint ì™€ Prettierë¥¼ ê°™ì´ ì‚¬ìš©í•´ì•¼ í•œë‹¤ -> í•˜ë‚˜ë¡œ í†µí•©**
- $ npm i eslint-config-prettier

```javascript
// .eslintrc.js
module.exports = {
    "env": {
        "browser": true,
        "es2021": true
    },
    "extends": ["eslint:recommended", "eslint-config-prettier"],
    // recommended ì„¤ì •ë“¤ ì¤‘ì— prettierì™€ ê²¹ì¹˜ëŠ”ê²Œ ìˆë‹¤ë©´ êº¼ë²„ë¦¬ëŠ” ì„¤ì •
    "parserOptions": {
        "ecmaVersion": 12,
        "sourceType": "module"
    },
    "rules": {
    }
};
```

- $ npx eslint app.js --fix 
- $ npx prettier app.js --write
- í•˜ì§€ë§Œ ë§¤ë²ˆ ì´ë ‡ê²Œ ë‘ë²ˆ ì“°ëŠ”ê²ƒì€ ë¶ˆí¸ -> $ npm i eslint-plugin-prettier
- eslint-plugin-prettier : prettierì— ìˆëŠ” ëª¨ë“  ê·œì¹™ì„ eslintì— ë„£ì–´ë²„ë¦¬ëŠ” ê²ƒ. -> eslintë§Œ ëŒë¦¬ë©´ prettierê¹Œì§€ ê°™ì´ ëŒë ¤ì§€ëŠ” íš¨ê³¼

```javascript
// .eslintrc.js
module.exports = {
    "env": {
        "browser": true,
        "es2021": true
    },
    "extends": ["eslint:recommended", "eslint-config-prettier"],
    "parserOptions": {
        "ecmaVersion": 12,
        "sourceType": "module"
    },
    // ì¶”ê°€ë˜ëŠ”ë¶€ë¶„
    plugins: [
        "prettier"
    ],
    "rules": {
        "prettier/prettier": "error"
    }
};
```

- $ npx eslint app.js --fix
- ìœ„ì˜ ë°©ë²•ê³¼ ë¬¸ì„œì²˜ëŸ¼ npm ìœ¼ë¡œ ë‘ê°œì˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ -> ì•„ë˜ì²˜ëŸ¼ ì„¤ì •ì„ ì¶”ê°€í•˜ë©´ ëœë‹¤.
- ìœ„, ì•„ë˜ ëª¨ë‘ ê°™ì€ íš¨ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

```javascript
// .eslintrc.js
{
  "extends": [
    "eslint:recommended",
    "plugin:prettier/recommended"
  ]
}
```

#### 4 - 7. ìë™í™”
- ì‘ì—…í•˜ëŠ”ë™ì•ˆ ëª…ë ¹ì–´ë¡œ ìˆ˜ì‘ì—…í•˜ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ìˆê¸°ë•Œë¬¸ì— ìë™í™” í•„ìš”
- ê¹ƒ í›… ì´ìš© -> $ npm i husky

```javascript
// package.json
  "husky": {
    "hooks": {
      "pre-commit": "echo \"ì´ê²ƒì€ ì»¤ë°‹ì „ì— ì¶œë ¥ë¨\""
      // ì»¤ë°‹ë˜ê¸°ì „ì— ìœ„ì˜ ë©”ì„¸ì§€ê°€ ì¶œë ¥ëœë‹¤.
    }
  }

  ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í–ˆë‹¤.
"husky": {
    "hooks": {
      "pre-commit": "eslint src/app.js --fix"
    }
  }
```

- í•˜ì§€ë§Œ ë‚´ìš©ì´ ì ì  ë§ì•„ì§€ê²Œë˜ë©´ lintê°€ ëŠë ¤ì§€ê²Œëœë‹¤.
- git ìœ¼ë¡œ commit í• ë•Œ commití•œ íŒŒì¼ë§Œ Lintë¥¼ ëŒë¦¬ë©´ lintì‹œê°„ì´ ë‹¨ì¶•ëœë‹¤. -> $ npm i lint-staged
- package.json ì— ì„¤ì •ì„ ì¶”ê°€í•´ì¤€ë‹¤.

```javascript
// package.json
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.js": "eslint --fix"
  }
```

- ë¦°íŠ¸ì— í†µê³¼í•˜ì§€ ëª»í•˜ë©´ ì»¤ë°‹ë„ ëª»í•˜ê²Œëœë‹¤.
- ì´ëŸ°ì‹ìœ¼ë¡œ ì½”ë“œê²€ì‚¬í•˜ëŠ” ë¶€ë¶„ì„ ìë™í™” í•´ì•¼ë§Œ ì¼ê´€ë˜ê²Œ ì½”ë“œë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

<br/>

- **ì—ë””í„°í™•ì¥ë„êµ¬**
- vscode ë§ˆì¼“ì—ì„œ eslint ì„¤ì¹˜
- **ì €ì¥í• ë•Œ ìë™ìœ¼ë¡œ eslintí™•ì¸**
- ì„¤ì • settings.json

```javascript
// - ì„¤ì • settings.json
"editor.codeActionsOnSave": {
      "source.fixAll.eslint": true
    },
```






