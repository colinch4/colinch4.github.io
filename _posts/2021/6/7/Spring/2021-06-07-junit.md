---
layout: post
title: "[spring] jUnit ë‹¨ìœ„í…ŒìŠ¤íŠ¸"
description: " "
date: 2021-06-07
tags: [springboot]
comments: true
share: true
---


## ğŸ“Ÿ jUnit ë‹¨ìœ„í…ŒìŠ¤íŠ¸

<br>

### Unit Test ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë€?

> - ê° ì½”ë“œê°€ ì˜ë„í•œ ëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì ˆì°¨
> - ëª¨ë“  í•¨ìˆ˜ì™€ ë§¤ì†Œë“œì— ê´€í•´ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ëŠ” ì ˆì°¨

### jUnitì´ë€?

> - Java ìì²´ ì—ì„œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸(Unit Test)ë¥¼ ì œê³µí•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬
> - ë³´ì´ì§€ ì•ŠëŠ” ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ëŒì–´ë‚´ì„œ ì •í˜•í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì œê³µí•´ì¤Œ
> - Assert ë§¤ì†Œë“œë¡œ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì˜ ìˆ˜í–‰ê²°ê³¼ íŒë³„
> - ê° í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ì´ë£¨ì–´ì§€ë„ë¡ í•´ì¤Œ

<br >

### jUnitì„ ì‚¬ìš©í•œ DI í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤

> - ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ == Bean í…ŒìŠ¤íŠ¸
> - Junit 4ë¶€í„° ì–´ë…¸í…Œì´ì…˜ ì œê³µ

<br>

#### - jUnit Annotation

**@Test**

    - jUnití…ŒìŠ¤íŠ¸ ì‹¤í–‰ì„ ìœ„í•´ì„œëŠ” ê¼­ @Testë¡œ ëª…ì‹œë¥¼ í•´ì¤˜ì•¼í•¨
    - ê° í…ŒìŠ¤íŠ¸ê°€ ì˜í–¥ì„ ì£¼ì§€ì•Šê³  ë…ë¦½ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ê¸° ìœ„í•´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë§ˆë‹¤ ê°ì²´ë¥¼ ë”°ë¡œ ìƒì„±

**@Ignore**

    - @Ignoreì„ ì–¸ ì‹œ, í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë„˜ì–´ê°

**@Before**

    - @Test ìˆ˜í–‰ ì „ì— ë§Œë“œì‹œ ì‹¤í–‰ë¨
    - @Test ë§ˆë‹¤ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¥¼ @Beforeì—ì„œ ì‚¬ìš©í•´ë„ ë¨

**@After**

    - @Test ìˆ˜í–‰ í›„ì— ì‹¤í–‰ë¨

**@BeforeClass**

    - @Testë³´ë‹¤ ë¨¼ì €, í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ê²½ìš° ì‚¬ìš©

**@AfterClass**

    - @Test ì´í›„ì— í•œë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ê²½ìš°

![junit](./imgs/junit.png)

<br />

### í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì •í•˜ëŠ” ë‹¨ì •(Assert) ë§¤ì†Œë“œ

â€‹

| ë§¤ì†Œë“œ ëª…               | ê¸°ëŠ¥                            |
| ----------------------- | ------------------------------- |
| assertEquals(a, b)      | ê°ì²´ Aì™€ Bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸      |
| assertArrayEquals(a, b) | ë°°ì—´ Aì™€ Bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸      |
| assertSame(a, b)        | ê°ì²´ Aì™€ Bê°€ ê°™ì€ ê°ì²´ì¸ì§€ í™•ì¸ |
| assertTrue(a)           | ì¡°ê±´ Aê°€ ì°¸ì¸ê°€ë¥¼ í™•ì¸          |
| assertNotNull(a)        | ê°ì²´ Aê°€ nullì´ ì•„ë‹˜ì„ í™•ì¸     |

â€‹> ë‹¤ë¥¸ ë§¤ì†Œë“œ í™•ì¸ http://junit.sourceforge.net/javadoc/org/junit/Assert.html

<br>

| assertEquals               | assertSame                                |
| -------------------------- | ----------------------------------------- |
| ë‘ ê°ì²´ì˜ ê°’ì´ ê°™ì€ì§€ í™•ì¸ | ë‘ ê°ì²´ì˜ ë ˆí¼ëŸ°ìŠ¤ê°€ ë™ì¼í•œê°€ë¥¼ í™•ì¸ (==) |

<br>

### SpringTest ì§€ì›í•˜ëŠ” Annotation

> jUnitìœ¼ë¡œ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

#### - @RunWith(SpringJUnit4ClassRunner.class)

> - **@RunWith**

    - í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë°©ë²• í™•ì¥ì‹œ ì‚¬ìš©
    - ê° í…ŒìŠ¤íŠ¸ë³„ë¡œ ê°ì²´ ìƒì„±ì‹œ ì‹±ê¸€í†¤ì„ ìœ ì§€í•˜ë„ë¡ ë³´ì¥

> - **SpringJUnit4ClassRunner** : jUnit í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ”ì¤‘ ApplicationContext (Spring Bean Container)ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•˜ëŠ” ì‘ì—… ì§„í–‰

#### - @ContextConfigurtion

> - Bean ì„¤ì •íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ë–„ ì‚¬ìš©

#### - @Autowired

> - ë³€ìˆ˜, ë§¤ì†Œë“œ, ìƒì„±ìì— ëª¨ë‘ ì‚¬ìš©ê°€ëŠ¥
> - í•´ë‹¹ ë³€ìˆ˜ì— ìë™ìœ¼ë¡œ Bean ë§¤í•‘
>   ==> getBean()ëŒ€ì‹  ì‚¬ìš©
> - ìŠ¤í”„ë§ ë¹ˆ ì„¤ì • íŒŒì¼ì„ ì½ê¸° ìœ„í•´ êµ³ì´ GenericXmlApplilcationContextë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŒ

â€‹
[junit í…ŒìŠ¤íŠ¸ ì½”ë“œ]

```java
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = "classpath:config/spring_beans.xml")
public class AnnotatedHelloBeanTest {

	@Autowired
	HelloBean hello;

	@Test
	public void helloBeanProps() {
		assertEquals("Hello ì–´ë…¸í…Œì´ì…˜", hello.sayHello());
	}

	@Test @Ignore
	public void helloBean() {
		assertEquals("Hello ì–´ë…¸í…Œì´ì…˜ ìƒì„±ì", hello.sayHello());
		hello.print();

	}

}
```
