---
layout: post
title: "File uploads in Flask"
description: " "
date: 2023-09-29
tags: [python, flask]
comments: true
share: true
---

## Setting Up the Flask Application

Before we dive into file uploads, let's set up a basic Flask application. Here's a minimalistic example:

```python
from flask import Flask, render_template, request

app = Flask(__name__)

@app.route("/")
def home():
    return render_template("index.html")

if __name__ == "__main__":
    app.run(debug=True)
```

This sets up a Flask application with a single route ("/") that renders an `index.html` template.

## Creating an HTML Form

To enable file uploads, we need to create an HTML form with an input field of type "file". Here's an example of how the form would look like:

```html
{% raw %}
<!DOCTYPE html>
<html>
<head>
    <title>File Upload Example</title>
</head>
<body>
    <h1>File Upload</h1>
    <form method="POST" action="{{ url_for('upload') }}" enctype="multipart/form-data">
        <input type="file" name="file">
        <button type="submit">Upload</button>
    </form>
</body>
</html>
{% endraw %}
```

In this form, we have set the form's method to "POST". The `enctype="multipart/form-data"` attribute is necessary to handle file uploads.

## Handling File Uploads in Flask

Now that we have our form ready, let's handle the file uploads in Flask. We can access the uploaded file in the `request.files` object. Here's an example of how we can process the uploaded file:

```python
@app.route("/upload", methods=["POST"])
def upload():
    file = request.files['file']
    if file:
        filename = file.filename
        file.save(filename)
        return "File uploaded successfully"

    return "No file selected"
```

In this example, we retrieve the file object from `request.files` using the name attribute we defined in the HTML form. We then check if a file was uploaded using the `if file:` condition. If a file was uploaded, we save it with the `file.save()` method using the desired filename. Finally, we return a success message if the file was saved successfully.

## Conclusion

Implementing file uploads in Flask is straightforward. With just a few lines of code, you can handle file uploads from your clients and process them in your Flask application. Remember to set the form's method to "POST" and use `enctype="multipart/form-data"` to enable file uploads. Enjoy building your file upload functionality in Flask!

#python #flask #fileuploads