---
layout: post
title: "[javascript] Storybookκ³Ό μλ°”μ¤ν¬λ¦½νΈ μ•±μ λ””μμΈ μ‹μ¤ν…μ UI ν…μ¤ν… λ°©λ²•"
description: " "
date: 2023-11-27
tags: [javascript]
comments: true
share: true
---

UI ν…μ¤ν…μ€ μ‚¬μ©μ μΈν„°νμ΄μ¤μ λ™μ‘κ³Ό μ™Έκ΄€μ„ κ²€μ¦ν•λ” μ¤‘μ”ν• μ‘μ—…μ…λ‹λ‹¤. Storybookμ€ μλ°”μ¤ν¬λ¦½νΈ μ•±μ λ””μμΈ μ‹μ¤ν…μ„ κ°λ°ν•κ³  ν…μ¤νΈν•λ” λ° λ„μ›€μ΄ λλ” κ°•λ ¥ν• λ„κµ¬μ…λ‹λ‹¤. μ΄ κΈ€μ—μ„λ” Storybookκ³Ό μλ°”μ¤ν¬λ¦½νΈ μ•±μ λ””μμΈ μ‹μ¤ν…μ„ ν•¨κ» μ‚¬μ©ν•μ—¬ UIλ¥Ό ν…μ¤νΈν•λ” λ°©λ²•μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

## Storybookμ΄λ€?

Storybookμ€ κ°λ°μκ°€ μ»΄ν¬λ„νΈ κΈ°λ°μ λ””μμΈ μ‹μ¤ν…μ„ κµ¬μ¶•ν•κ³  λ¬Έμ„ν™”ν•λ” λ° λ„μ›€μ„ μ£Όλ” μ¤ν” μ†μ¤ λ„κµ¬μ…λ‹λ‹¤. Storybookμ„ μ‚¬μ©ν•λ©΄ λ‹¤λ¥Έ ν™κ²½μ—μ„ μ»΄ν¬λ„νΈλ¥Ό λ…λ¦½μ μΌλ΅ ν…μ¤νΈν•κ³  μ‹κ°μ μΌλ΅ κ²€μ¦ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ»΄ν¬λ„νΈμ μ™Έκ΄€κ³Ό λ™μ‘μ„ ν…μ¤νΈν•λ©΄μ„ κ°λ°μλ” ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν•λ” λ²κ±°λ΅μ›€μ„ μ¤„μΌ μ μμµλ‹λ‹¤.

## λ””μμΈ μ‹μ¤ν… κµ¬μ¶•ν•κΈ°

λ””μμΈ μ‹μ¤ν…μ„ κµ¬μ¶•ν•κΈ° μ„ν•΄ λ¨Όμ € Storybookμ„ μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤. λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ Storybookμ„ μ„¤μΉν•©λ‹λ‹¤:

```bash
npx -p @storybook/cli sb init
```

`sb init` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ©΄ ν”„λ΅μ νΈ λ””λ ‰ν† λ¦¬ λ‚΄μ— `.storybook` λ””λ ‰ν† λ¦¬μ™€ `storybook` μ¤ν¬λ¦½νΈκ°€ μƒμ„±λ©λ‹λ‹¤. μ΄μ  λ””μμΈ μ‹μ¤ν…μ„ κµ¬μ¶•ν•  μ¤€λΉ„κ°€ μ™„λ£λμ—μµλ‹λ‹¤.

## μ»΄ν¬λ„νΈ μ¤ν† λ¦¬ μ‘μ„±ν•κΈ°

Storybookμ—μ„λ” μ»΄ν¬λ„νΈμ λ‹¤μ–‘ν• μƒνƒλ¥Ό μ¤ν† λ¦¬λΌλ” κ°λ…μΌλ΅ μ •μν•©λ‹λ‹¤. μ¤ν† λ¦¬λ” μ»΄ν¬λ„νΈμ μ™Έκ΄€κ³Ό λ™μ‘μ„ μ„¤λ…ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. μ¤ν† λ¦¬λ¥Ό μ‘μ„±ν•κΈ° μ„ν•΄ `.storybook` λ””λ ‰ν† λ¦¬ λ‚΄μ— `main.js` νμΌμ„ μƒμ„±ν•©λ‹λ‹¤.

```javascript
module.exports = {
  stories: ['../src/**/*.stories.js'],
  addons: ['@storybook/addon-actions', '@storybook/addon-links'],
};
```

μ„μ μ½”λ“λ” μ¤ν† λ¦¬ νμΌμ΄ `src` λ””λ ‰ν† λ¦¬ λ‚΄μ— `.stories.js` ν™•μ¥μλ¥Ό κ°€μ§„ νμΌλ“¤λ΅ μ‘μ„±λλ‹¤λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.

μ΄μ  μ»΄ν¬λ„νΈμ μ¤ν† λ¦¬λ¥Ό μ‘μ„±ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄ `Button` μ»΄ν¬λ„νΈμ— λ€ν• μ¤ν† λ¦¬λ¥Ό μ‘μ„±ν•λ ¤λ©΄ `src/components/Button.stories.js` νμΌμ„ μƒμ„±ν•κ³  λ‹¤μκ³Ό κ°™μ΄ μ‘μ„±ν•©λ‹λ‹¤:

```javascript
import React from 'react';
import { action } from '@storybook/addon-actions';

import Button from './Button';

export default {
  title: 'Button',
  component: Button,
};

export const Text = () => <Button onClick={action('clicked')}>Hello, Button</Button>;

export const Emoji = () => (
  <Button onClick={action('clicked')}>
    <span role="img" aria-label="so cool">
      π€ π π‘ π’―
    </span>
  </Button>
);
```

μ„μ μ½”λ“μ—μ„λ” `Button` μ»΄ν¬λ„νΈμ— λ€ν• μ¤ν† λ¦¬λ¥Ό μ‘μ„±ν•κ³  λ‘ κ°€μ§€ μƒνƒ(`Text`μ™€ `Emoji`)λ¥Ό μ •μν•©λ‹λ‹¤. κ° μƒνƒμ— λ€ν•΄ μ»΄ν¬λ„νΈλ¥Ό μ–΄λ–»κ² λ λ”λ§ν•λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ μ μ ν• μ½λ°± ν•¨μλ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

## Storybook μ‹¤ν–‰ν•κΈ°

μ΄μ  μ¤ν† λ¦¬λ¥Ό μ‘μ„±ν–μΌλ―€λ΅ Storybookμ„ μ‹¤ν–‰ν•μ—¬ ν™•μΈν•  μ μμµλ‹λ‹¤. λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•μ—¬ Storybookμ„ μ‹¤ν–‰ν•©λ‹λ‹¤:

```bash
npm run storybook
```

λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ©΄ λΈλΌμ°μ €μ—μ„ Storybook UIκ°€ μ—΄λ¦¬κ³  μ¤ν† λ¦¬λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

## UI ν…μ¤νΈ μ‘μ„±ν•κΈ°

Storybookμ„ μ‚¬μ©ν•λ©΄ UI ν…μ¤νΈλ¥Ό μ‰½κ² μ‘μ„±ν•  μ μμµλ‹λ‹¤. ν…μ¤νΈλ¥Ό μ‘μ„±ν•κΈ° μ„ν•΄ ν”„λ μ„μ›ν¬ λ§λ‹¤ λ‹¤λ¥Έ ν…μ¤ν… λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄ Reactλ¥Ό μ‚¬μ©ν•λ” κ²½μ° `react-testing-library`λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ΄ λΌμ΄λΈλ¬λ¦¬λ” React μ»΄ν¬λ„νΈμ κΈ°λ¥κ³Ό μ™Έκ΄€μ„ ν…μ¤νΈν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

```javascript
import React from 'react';
import { render, fireEvent } from '@testing-library/react';
import Button from './Button';

it('renders button correctly', () => {
  const { getByText } = render(<Button>Hello, Button</Button>);
  const buttonElement = getByText('Hello, Button');
  expect(buttonElement).toBeInTheDocument();
});

it('calls onClick callback when button is clicked', () => {
  const onClick = jest.fn();
  const { getByText } = render(<Button onClick={onClick}>Hello, Button</Button>);
  const buttonElement = getByText('Hello, Button');
  fireEvent.click(buttonElement);
  expect(onClick).toHaveBeenCalled();
});
```

μ„μ μμ  μ½”λ“μ—μ„λ” `render` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•κ³  `getByText` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • ν…μ¤νΈλ¥Ό ν¬ν•¨ν• μ—λ¦¬λ¨ΌνΈλ¥Ό μ°Ύμµλ‹λ‹¤. κ·Έλ° λ‹¤μ `fireEvent`λ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • μ΄λ²¤νΈλ¥Ό λ°μƒμ‹ν‚¤κ³  μ΄λ²¤νΈμ— λ€ν• μ½λ°± ν•¨μκ°€ νΈμ¶λμ—λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

## κ²°λ΅ 

Storybookκ³Ό μλ°”μ¤ν¬λ¦½νΈ μ•±μ λ””μμΈ μ‹μ¤ν…μ„ ν•¨κ» μ‚¬μ©ν•λ©΄ UI ν…μ¤νΈλ¥Ό μ‰½κ² μ‘μ„±ν•κ³  κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤. Storybookμ„ μ‚¬μ©ν•μ—¬ μ»΄ν¬λ„νΈμ λ‹¤μ–‘ν• μƒνƒλ¥Ό μ¤ν† λ¦¬λ΅ μ •μν•κ³ , μ΄λ¥Ό λ°”νƒ•μΌλ΅ UI ν…μ¤νΈλ¥Ό μ‘μ„±ν•  μ μμµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ κ°λ°μλ” μ»΄ν¬λ„νΈμ μ™Έκ΄€κ³Ό λ™μ‘μ„ μ²΄κ³„μ μΌλ΅ ν…μ¤νΈν•κ³  μµμΆ… μ‚¬μ©μμ—κ² ν’μ§ λ†’μ€ μ•±μ„ μ κ³µν•  μ μμµλ‹λ‹¤.