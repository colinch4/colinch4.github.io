---
layout: post
title: "GraphQL Subscriptionsλ¥Ό ν™μ©ν• μ‹¤μ‹κ°„ λ°μ΄ν„° λ™κΈ°ν™”"
description: " "
date: 2023-11-10
tags: [graphql]
comments: true
share: true
---

## μ†κ°

GraphQLμ€ λ°μ΄ν„° μΏΌλ¦¬ μ–Έμ–΄μ΄μ API μ‹¤ν–‰ ν™κ²½μ…λ‹λ‹¤. κΈ°μ΅΄μ RESTful APIμ™€ λΉ„κµν•μ—¬ ν›¨μ”¬ μ μ—°ν•κ³  κ°•λ ¥ν• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. μ΄ μ¤‘μ—μ„λ„ GraphQL Subscriptionsμ€ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ‹¤μ‹κ°„ λ°μ΄ν„° λ™κΈ°ν™”λ¥Ό κ°€λ¥ν•κ² ν•΄μ£Όλ” κΈ°λ¥μ…λ‹λ‹¤.

## GraphQL Subscriptionsλ€?

GraphQL Subscriptionsλ” GraphQL μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ§€μ›ν•©λ‹λ‹¤. κΈ°μ΅΄μ GraphQL μΏΌλ¦¬μ™€λ” λ‹¬λ¦¬ ν• λ²μ μ”μ²­μΌλ΅ μ—¬λ¬ κ°μ μ‘λ‹µμ„ λ°›μ„ μ μμΌλ©°, μ΄λ¥Ό ν†µν•΄ μ‹¤μ‹κ°„μΌλ΅ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•  μ μμµλ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—μ„ λ°μƒν• μ΄λ²¤νΈλ¥Ό κµ¬λ…ν•κ³ , μ„λ²„λ” ν•΄λ‹Ή μ΄λ²¤νΈμ— λ€ν• μ‘λ‹µμ„ μ „μ†΅ν•©λ‹λ‹¤.

## GraphQL Subscriptionsμ μ¥μ 

GraphQL Subscriptionsλ¥Ό μ‚¬μ©ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ—¬λ¬ κ°€μ§€ μ΄μ μ„ μ–»μ„ μ μμµλ‹λ‹¤.

1. μ‹¤μ‹κ°„ λ°μ΄ν„° μ—…λ°μ΄νΈ: GraphQL Subscriptionsλ¥Ό ν†µν•΄ λ°μ΄ν„°μ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈλ¥Ό κµ¬ν„ν•  μ μμµλ‹λ‹¤. μ΄λ” μ‹¤μ‹κ°„ μ±„ν…, μ•λ¦Ό λ“±κ³Ό κ°™μ€ κΈ°λ¥μ„ κµ¬ν„ν•κΈ°μ— μ΄μƒμ μ…λ‹λ‹¤.

2. μ”μ²­/μ‘λ‹µ λ€κΈ° μ—†μ: κΈ°μ΅΄μ RESTful APIμ—μ„λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ λ³΄λ‚΄κ³  μ‘λ‹µμ„ λ°›μ•„μ•Όλ§ λ°μ΄ν„°λ¥Ό μ—…λ°μ΄νΈν•  μ μμ—μµλ‹λ‹¤. ν•μ§€λ§ GraphQL Subscriptionsλ¥Ό μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅λ¶€ν„°μ μ‘λ‹µμ„ λ€κΈ°ν•  ν•„μ” μ—†μ΄, μ„λ²„λ΅λ¶€ν„° λ°μ΄ν„° μ—…λ°μ΄νΈλ¥Ό λ°›μ„ μ μμµλ‹λ‹¤.

## GraphQL Subscriptions μ‚¬μ© μμ‹

GraphQL Subscriptionsλ¥Ό μ‚¬μ©ν•λ” κ°„λ‹¨ν• μμ‹λ¥Ό μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤. λ‹¤μμ€ μ‚¬μ©μκ°€ μƒλ΅μ΄ λ©”μ‹μ§€λ¥Ό κ²μ‹ν• κ²½μ°, ν•΄λ‹Ή λ©”μ‹μ§€λ¥Ό μ‹¤μ‹κ°„μΌλ΅ λ°›μ•„λ³Ό μ μλ” κΈ°λ¥μ„ κµ¬ν„ν• GraphQL Subscriptions μμ‹μ…λ‹λ‹¤.

```javascript
// GraphQL μ¤ν‚¤λ§
type Query {
  # μ±„ν…λ°© λ©λ΅ μ΅°ν
  chatRooms: [ChatRoom]
}

type Mutation {
  # μƒλ΅μ΄ λ©”μ‹μ§€ μ‘μ„±
  writeMessage(chatRoomId: ID!, content: String!): ChatMessage
}

type Subscription {
  # μƒλ΅μ΄ λ©”μ‹μ§€ κµ¬λ…
  newMessage(chatRoomId: ID!): ChatMessage
}

type ChatRoom {
  id: ID!
  name: String!
  messages: [ChatMessage]
}

type ChatMessage {
  id: ID!
  content: String!
  createdAt: String!
}
```

μ„μ μ¤ν‚¤λ§μ— λ”°λΌ ν΄λΌμ΄μ–ΈνΈλ” `newMessage` μ„λΈμ¤ν¬λ¦½μ…μ„ κµ¬λ…ν•  μ μκ³ , μ„λ²„λ” ν•΄λ‹Ή μ±„ν…λ°©μ—μ„ μƒλ΅μ΄ λ©”μ‹μ§€κ°€ μ‘μ„±λλ©΄ ν•΄λ‹Ή μ •λ³΄λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” μ‹¤μ‹κ°„μΌλ΅ μƒλ΅μ΄ λ©”μ‹μ§€λ¥Ό λ°›μ•„λ³Ό μ μμµλ‹λ‹¤.

## κ²°λ΅ 

GraphQL Subscriptionsλ” GraphQLμ κ°•λ ¥ν• κΈ°λ¥ μ¤‘ ν•λ‚λ΅, μ‹¤μ‹κ°„ λ°μ΄ν„° λ™κΈ°ν™”λ¥Ό κ°€λ¥ν•κ² ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈκ°€ ν•„μ”ν• κΈ°λ¥λ“¤μ„ ν¨μ¨μ μΌλ΅ κµ¬ν„ν•  μ μμµλ‹λ‹¤. GraphQL Subscriptionsλ¥Ό ν™μ©ν•μ—¬ μ‚¬μ©μ κ²½ν—μ„ ν–¥μƒμ‹ν‚¤λ” μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ κ°λ°ν•΄λ³΄μ„Έμ”!

π”– μ°Έκ³ : [GraphQL Subscriptions](https://www.apollographql.com/docs/apollo-server/data/subscriptions/) #GraphQL #μ‹¤μ‹κ°„λ°μ΄ν„°