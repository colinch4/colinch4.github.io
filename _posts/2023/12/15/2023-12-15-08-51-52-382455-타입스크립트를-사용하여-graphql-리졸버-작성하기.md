---
layout: post
title: "[typescript] íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ GraphQL ë¦¬ì¡¸ë²„ ì‘ì„±í•˜ê¸°"
description: " "
date: 2023-12-15
tags: [typescript]
comments: true
share: true
---

GraphQLì€ APIë¥¼ ìœ„í•œ ì¿¼ë¦¬ ì–¸ì–´ë¡œì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ íƒ€ì… ì•ˆì •ì„±ì„ ë”ìš± í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì—ì„œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ GraphQL ë¦¬ì¡¸ë²„ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.

## 1. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œì íŠ¸ ì„¤ì •

ë¨¼ì €, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¡œ ë…¸ë“œ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ `tsconfig.json` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```shell
npx tsc --init
```

ê·¸ëŸ° ë‹¤ìŒ í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```shell
npm install graphql apollo-server type-graphql
```

## 2. GraphQL ìŠ¤í‚¤ë§ˆ ë° ë¦¬ì¡¸ë²„ ì‘ì„±

ë‹¤ìŒìœ¼ë¡œ, GraphQL ìŠ¤í‚¤ë§ˆì™€ ë¦¬ì¡¸ë²„ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `User`ì™€ ê´€ë ¨ëœ ì¿¼ë¦¬ì™€ ë®¤í…Œì´ì…˜ì„ ë‹¤ë£¨ëŠ” ë¦¬ì¡¸ë²„ë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

### `user.ts` íŒŒì¼

```typescript
import { ObjectType, Field, ID } from "type-graphql";

@ObjectType()
class User {
  @Field(type => ID)
  id: string;

  @Field()
  name: string;

  @Field()
  email: string;
}

export default User;
```

### `userResolver.ts` íŒŒì¼

```typescript
import { Resolver, Query } from "type-graphql";
import User from "./user";

@Resolver()
class UserResolver {
  @Query(returns => User)
  async user(id: string): Promise<User> {
    // ìœ ì € ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‘ì„±
  }
}

export default UserResolver;
```

## 3. ì„œë²„ ì„¤ì •

ë§ˆì§€ë§‰ìœ¼ë¡œ, Apollo ì„œë²„ë¥¼ ì„¤ì •í•˜ê³  ë¦¬ì¡¸ë²„ë¥¼ ì ìš©í•©ë‹ˆë‹¤.

### `index.ts` íŒŒì¼

```typescript
import { ApolloServer } from "apollo-server";
import { buildSchema } from "type-graphql";
import UserResolver from "./userResolver";

async function startApolloServer() {
  const schema = await buildSchema({
    resolvers: [UserResolver],
  });

  const server = new ApolloServer({ schema });
  await server.listen(4000);
  console.log(`ğŸš€ Server ready at http://localhost:4000/graphql`);
}

startApolloServer();
```

ì´ì œ ìœ„ì˜ ë‹¨ê³„ë¥¼ ë”°ë¼í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ GraphQL ë¦¬ì¡¸ë²„ë¥¼ ì‘ì„±í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

- [TypeGraphQL ë¬¸ì„œ](https://typegraphql.com/docs)
- [TypeScript ê³µì‹ í™ˆí˜ì´ì§€](https://www.typescriptlang.org/)