---
layout: post
title: "[flutter] í”ŒëŸ¬í„° ì•±ì˜ ìƒíƒœ ê´€ë¦¬ ë°©ë²•"
description: " "
date: 2023-12-05
tags: [flutter]
comments: true
share: true
---

í”ŒëŸ¬í„°(Flutter)ëŠ” êµ¬ê¸€ì—ì„œ ê°œë°œí•œ í¬ë¡œìŠ¤ í”Œë«í¼ ì•± ê°œë°œ í”„ë ˆì„ì›Œí¬ë¡œ, UIë¥¼ ì†ì‰½ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ëŒ€ê·œëª¨ ì•±ì—ì„œëŠ” ìƒíƒœ ê´€ë¦¬ê°€ ì¤‘ìš”í•œ ê³¼ì •ì´ë©°, ì´ë¥¼ ìœ„í•´ íš¨ê³¼ì ì¸ ìƒíƒœ ê´€ë¦¬ ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

ì´ ê¸€ì—ì„œëŠ” í”ŒëŸ¬í„° ì•±ì—ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ ëª‡ ê°€ì§€ ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

## 1. ìƒíƒœ ê´€ë¦¬ ë°©ì‹ ë¹„êµ

í”ŒëŸ¬í„°ì—ì„œëŠ” ë‹¤ì–‘í•œ ìƒíƒœ ê´€ë¦¬ ë°©ì‹ì´ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œë„ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì„¸ ê°€ì§€ ë°©ì‹ì„ ì†Œê°œí•©ë‹ˆë‹¤.

### 1.1. ìƒíƒœë¥¼ ê°€ì§„ StatefulWidget

StatefulWidgetì€ ìƒíƒœë¥¼ ê°€ì§€ëŠ” ìœ„ì ¯ì…ë‹ˆë‹¤. ìƒíƒœì˜ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ í•´ë‹¹ ìœ„ì ¯ì˜ `build` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ UIê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

```dart
class MyWidget extends StatefulWidget {
  @override
  _MyWidgetState createState() => _MyWidgetState();
}

class _MyWidgetState extends State<MyWidget> {
  int _counter = 0;

  void _incrementCounter() {
    setState(() {
      _counter++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Text('Count: $_counter'),
        RaisedButton(
          onPressed: _incrementCounter,
          child: Text('Increment'),
        ),
      ],
    );
  }
}
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `_counter` ë³€ìˆ˜ëŠ” ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ë©°, `_incrementCounter()` í•¨ìˆ˜ëŠ” ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. `setState()`ë¥¼ í†µí•´ ìƒíƒœì˜ ë³€í™”ë¥¼ ì•Œë ¤ì£¼ë©´ í•´ë‹¹ ìœ„ì ¯ì€ ë‹¤ì‹œ ê·¸ë ¤ì§‘ë‹ˆë‹¤.

### 1.2. Provider íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ê¸°

Provider íŒ¨í‚¤ì§€ëŠ” í”ŒëŸ¬í„°ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ `ChangeNotifier`ë¥¼ ì‚¬ìš©í•˜ë©°, ìƒíƒœì˜ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ ë¦¬ìŠ¤ë„ˆì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤.

```dart
class Counter with ChangeNotifier {
  int _count = 0;

  int get count => _count;

  void increment() {
    _count++;
    notifyListeners();
  }
}

class MyWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final counter = Provider.of<Counter>(context);

    return Column(
      children: [
        Text('Count: ${counter.count}'),
        RaisedButton(
          onPressed: counter.increment,
          child: Text('Increment'),
        ),
      ],
    );
  }
}
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `Counter` í´ë˜ìŠ¤ëŠ” `ChangeNotifier`ë¥¼ ìƒì†ë°›ì•„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³ , `notifyListeners()`ë¥¼ í†µí•´ ìƒíƒœì˜ ë³€í™”ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤. `Provider.of<Counter>(context)`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1.3. BLoC íŒ¨í„´ ì‚¬ìš©í•˜ê¸°

BLoC(Block Logic Component) íŒ¨í„´ì€ í”ŒëŸ¬í„°ì—ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•ì…ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë³„ë„ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ì—¬ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

```dart
class CounterBloc {
  StreamController<int> _counterController = StreamController<int>.broadcast();
  Stream<int> get counter => _counterController.stream;

  int _count = 0;

  void increment() {
    _count++;
    _counterController.sink.add(_count);
  }

  void dispose() {
    _counterController.close();
  }
}

class MyWidget extends StatelessWidget {
  final counterBloc = CounterBloc();

  @override
  Widget build(BuildContext context) {
    return StreamBuilder<int>(
      stream: counterBloc.counter,
      initialData: 0,
      builder: (context, snapshot) {
        return Column(
          children: [
            Text('Count: ${snapshot.data}'),
            RaisedButton(
              onPressed: counterBloc.increment,
              child: Text('Increment'),
            ),
          ],
        );
      },
    );
  }

  @override
  void dispose() {
    super.dispose();
    counterBloc.dispose();
  }
}
```

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `CounterBloc` í´ë˜ìŠ¤ëŠ” `StreamController`ë¥¼ í†µí•´ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë©°, `sink.add()`ë¥¼ í†µí•´ ìƒíƒœì˜ ë³€í™”ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤. `StreamBuilder`ë¥¼ ì‚¬ìš©í•˜ì—¬ `counterBloc.counter` ìŠ¤íŠ¸ë¦¼ì„ ê°ì§€í•˜ê³  UIë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

## 2. ê²°ë¡ 

ìœ„ì—ì„œ ì–¸ê¸‰í•œ ìƒíƒœ ê´€ë¦¬ ë°©ì‹ì€ í”ŒëŸ¬í„° ì•±ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ë“¤ì…ë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ì ì ˆí•œ ë°©ì‹ì„ ì„ íƒí•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì˜ ê·œëª¨ì™€ ìš”êµ¬ ì‚¬í•­ì— ë§ì¶°ì„œ ìƒíƒœ ê´€ë¦¬ ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ì™€ ì˜ˆì œëŠ” [í”ŒëŸ¬í„° ê³µì‹ ë¬¸ì„œ](https://flutter.dev/docs/development/data-and-backend/state-mgmt)ë¥¼ ì°¸ê³ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.

Happy coding! ğŸ˜Š