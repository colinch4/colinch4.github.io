---
layout: post
title: "[flutter] shared_preferences ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì‚¬ì§„ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¸ê°€ìš”?"
description: " "
date: 2023-12-05
tags: [flutter]
comments: true
share: true
---

`shared_preferences`ëŠ” Flutterì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìœ ì§€í•˜ê¸° ìœ„í•œ í¸ë¦¬í•œ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì‚¬ì§„ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 1. `shared_preferences` íŒ¨í‚¤ì§€ ì¶”ê°€í•˜ê¸°

ë¨¼ì €, `pubspec.yaml` íŒŒì¼ì— `shared_preferences` íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ dependencies ë¶€ë¶„ì— ì¶”ê°€í•©ë‹ˆë‹¤:

```yaml
dependencies:
  flutter:
    sdk: flutter
  shared_preferences: ^2.0.5
```

ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ íŒ¨í‚¤ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ í„°ë¯¸ë„ì—ì„œ `flutter pub get` ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

## 2. ì´ë¯¸ì§€ ì„ íƒ ë° ì €ì¥í•˜ê¸°

```dart
import 'package:flutter/material.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:image_picker/image_picker.dart';

class MyImagePickerPage extends StatefulWidget {
  @override
  _MyImagePickerPageState createState() => _MyImagePickerPageState();
}

class _MyImagePickerPageState extends State<MyImagePickerPage> {
  SharedPreferences sharedPreferences;
  String imagePath;

  @override
  void initState() {
    super.initState();
    loadImage();
  }

  void loadImage() async {
    sharedPreferences = await SharedPreferences.getInstance();
    setState(() {
      imagePath = sharedPreferences.getString('imagePath');
    });
  }

  Future<void> saveImage(String path) async {
    setState(() {
      imagePath = path;
    });

    await sharedPreferences.setString('imagePath', path);
  }

  Future<void> pickImage() async {
    final ImagePicker picker = ImagePicker();
    final PickedFile pickedFile = await picker.getImage(source: ImageSource.gallery);

    if (pickedFile != null) {
      saveImage(pickedFile.path);
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ì´ë¯¸ì§€ ì„ íƒ'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            if (imagePath != null)
              Image.file(File(imagePath)),
            ElevatedButton(
              onPressed: pickImage,
              child: Text('ì´ë¯¸ì§€ ì„ íƒ'),
            ),
          ],
        ),
      ),
    );
  }
}
```

## 3. `MyImagePickerPage` ì‚¬ìš©í•˜ê¸°

ì´ì œ ìœ„ì˜ ì½”ë“œì—ì„œ ì‘ì„±í•œ `MyImagePickerPage`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê³  ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `main.dart` íŒŒì¼ì—ì„œ `MyImagePickerPage`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•©ë‹ˆë‹¤:

```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Flutter Image Picker',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: MyImagePickerPage(),
    );
  }
}
```

`MyImagePickerPage` ìœ„ì ¯ì„ ì•±ì˜ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì„¤ì •í•˜ê³  ì‹¤í–‰í•˜ë©´ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê³  ì €ì¥í•  ìˆ˜ ìˆëŠ” ì•±ì´ ìƒì„±ë©ë‹ˆë‹¤.

ì—¬ê¸°ì„œ `shared_preferences` íŒ¨í‚¤ì§€ëŠ” ì‚¬ìš©ìê°€ ì„ íƒí•œ ì´ë¯¸ì§€ì˜ ê²½ë¡œë¥¼ ì €ì¥í•˜ê³  ë¡œë“œí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ë©´ ì´ë¯¸ì§€ì˜ ê²½ë¡œê°€ `shared_preferences`ì— ì €ì¥ë˜ê³ , ë‹¤ìŒì— ì•±ì´ ì‹œì‘ë  ë•Œ ì´ ê²½ë¡œë¥¼ ë¡œë“œí•˜ì—¬ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

ì´ì œ `shared_preferences`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì‚¬ì§„ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ ì•±ì—ì„œ ì´ë¯¸ì§€ë¥¼ ìœ ì§€í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ì™€ ì‚¬ìš©ë²•ì€ [shared_preferences](https://pub.dev/packages/shared_preferences) íŒ¨í‚¤ì§€ì˜ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

Happy coding! ğŸ˜Š