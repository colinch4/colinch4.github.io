---
layout: post
title: "[android] ë°ì´í„° ë°”ì¸ë”©ìœ¼ë¡œ ì»¤ìŠ¤í…€ ë·°ë°”ì¸ë”©"
description: " "
date: 2023-12-21
tags: [android]
comments: true
share: true
---

ì•ˆë…•í•˜ì„¸ìš”! ì•ˆë“œë¡œì´ë“œ ê°œë°œì ì—¬ëŸ¬ë¶„! ì˜¤ëŠ˜ì€ ì•ˆë“œë¡œì´ë“œ ì•±ì—ì„œ **ë°ì´í„° ë°”ì¸ë”©(Data Binding)**ì„ ì‚¬ìš©í•˜ì—¬ **ì»¤ìŠ¤í…€ ë·° ë°”ì¸ë”©(Custom View Binding)**ì„ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ì•ˆë“œë¡œì´ë“œ ë°ì´í„° ë°”ì¸ë”©ì„ ì‚¬ìš©í•˜ë©´ XML ë ˆì´ì•„ì›ƒì—ì„œ Viewì™€ ë°ì´í„°ë¥¼ ë¬¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì´ê³  ë°ì´í„°ì™€ UI ìš”ì†Œ ê°„ì˜ ê²°í•©ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë°ì´í„° ë°”ì¸ë”© ì„¤ì •í•˜ê¸°

ë¨¼ì €, **build.gradle** íŒŒì¼ì— ë°ì´í„° ë°”ì¸ë”©ì„ í™œì„±í™”í•©ë‹ˆë‹¤.

```gradle
android {
    ...
    buildFeatures {
        dataBinding = true
    }
}
```

## ì»¤ìŠ¤í…€ ë·° ë°”ì¸ë”© êµ¬í˜„í•˜ê¸°

### XML ë ˆì´ì•„ì›ƒ ì‘ì„±

```xml
<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android">
   <data>
       <variable
           name="user"
           type="com.example.User" />
   </data>

   <LinearLayout
       android:layout_width="match_parent"
       android:layout_height="wrap_content">
       
       <com.example.CustomTextView
           android:layout_width="wrap_content"
           android:layout_height="wrap_content"
           android:text="@{user.name}" />

   </LinearLayout>
</layout>
```

### ì»¤ìŠ¤í…€ ë·° í´ë˜ìŠ¤ ì‘ì„±

```java
public class CustomTextView extends AppCompatTextView {

    public CustomTextView(Context context, AttributeSet attrs) {
        super(context, attrs);
        initView();
    }

    private void initView() {
        // ì´ˆê¸°í™” ì‘ì—… ìˆ˜í–‰
    }

    @BindingAdapter("android:text")
    public static void setText(CustomTextView view, String text) {
        view.setText(text);
    }
}
```

## ë°ì´í„° ë°”ì¸ë”©ê³¼ ì»¤ìŠ¤í…€ ë·° ë°”ì¸ë”© ì‚¬ìš©í•˜ê¸°

```java
public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);
        
        User user = new User("John Doe");
        binding.setUser(user);
    }
}
```

ì´ì œ ì»¤ìŠ¤í…€ ë·°ì¸ `CustomTextView`ì— ë°ì´í„°ë¥¼ ë°”ì¸ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ë°ì´í„° ë°”ì¸ë”©ì„ ì´ìš©í•˜ì—¬ ì»¤ìŠ¤í…€ ë·°ë¥¼ ë§Œë“¤ë©´ ë ˆì´ì•„ì›ƒê³¼ ë¡œì§ì„ ë” ê¹”ë”í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆê³ , ìƒì‚°ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ë¥¼ ì›í•˜ì‹œë©´ ì•ˆë“œë¡œì´ë“œ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ì„¸ìš”!

ì„±ê³µì ì¸ ì•ˆë“œë¡œì´ë“œ ì•± ê°œë°œì„ ê¸°ì›í•©ë‹ˆë‹¤! ğŸš€