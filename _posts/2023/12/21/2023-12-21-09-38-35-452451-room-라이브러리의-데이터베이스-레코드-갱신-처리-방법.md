---
layout: post
title: "[kotlin] Room λΌμ΄λΈλ¬λ¦¬μ λ°μ΄ν„°λ² μ΄μ¤ λ μ½”λ“ κ°±μ‹  μ²λ¦¬ λ°©λ²•"
description: " "
date: 2023-12-21
tags: [kotlin]
comments: true
share: true
---

μ•λ…•ν•μ„Έμ”! μ΄λ²μ—λ” Room λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ μ•λ“λ΅μ΄λ“ μ•±μ λ°μ΄ν„°λ² μ΄μ¤ λ μ½”λ“λ¥Ό κ°±μ‹ ν•λ” λ°©λ²•μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

## 1. λ°μ΄ν„°λ² μ΄μ¤ μ—”ν‹°ν‹° ν΄λμ¤ μ—…λ°μ΄νΈ

λ¨Όμ €, κ°±μ‹ ν•λ ¤λ” λ°μ΄ν„°λ² μ΄μ¤ ν…μ΄λΈ”μ μ—”ν‹°ν‹° ν΄λμ¤λ¥Ό μ—…λ°μ΄νΈν•΄μ•Ό ν•©λ‹λ‹¤. ν•„μ”ν• ν•„λ“μ— λ€ν• setter λ©”μ„λ“λ¥Ό μ¶”κ°€ν•κ±°λ‚, κΈ°μ΅΄μ ν•„λ“λ¥Ό μμ •ν•  μ μμµλ‹λ‹¤.

μλ¥Ό λ“¤μ–΄, λ‹¤μμ€ μ‚¬μ©μ μ •λ³΄λ¥Ό λ‹΄κ³  μλ” μ—”ν‹°ν‹° ν΄λμ¤μ μμ‹μ…λ‹λ‹¤.

```kotlin
@Entity
data class User(
    @PrimaryKey val id: Int,
    var name: String,
    var age: Int
)
```

## 2. DAO μΈν„°νμ΄μ¤ λ©”μ„λ“ μ¶”κ°€

λ‹¤μμΌλ΅, λ°μ΄ν„°λ² μ΄μ¤ μ•΅μ„Έμ¤ κ°μ²΄ (DAO) μΈν„°νμ΄μ¤μ— ν•΄λ‹Ή λ μ½”λ“λ¥Ό κ°±μ‹ ν•λ” λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄μ•Ό ν•©λ‹λ‹¤.

```kotlin
@Dao
interface UserDao {
    // κΈ°μ΅΄ λ μ½”λ“λ¥Ό κ°±μ‹ ν•λ” λ©”μ„λ“
    @Update
    suspend fun updateUser(user: User)
}
```

## 3. λ°μ΄ν„°λ² μ΄μ¤ κ°±μ‹  μ²λ¦¬

λ§μ§€λ§‰μΌλ΅, Repository λλ” ViewModel λ“±μ—μ„ ν•΄λ‹Ή DAO λ©”μ„λ“λ¥Ό νΈμ¶ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤ λ μ½”λ“λ¥Ό κ°±μ‹ ν•  μ μμµλ‹λ‹¤.

```kotlin
class UserRepository(private val userDao: UserDao) {
    suspend fun updateUser(user: User) {
        userDao.updateUser(user)
    }
}
```

κ°„λ‹¨ν•κ², μ΄λ ‡κ²ν•λ©΄ Room λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤ λ μ½”λ“λ¥Ό κ°±μ‹ ν•  μ μμµλ‹λ‹¤. λ³€κ²½λλ” λ°μ΄ν„°μ— λ”°λΌ μ—”ν‹°ν‹° ν΄λμ¤μ™€ DAO λ©”μ„λ“λ¥Ό μ—…λ°μ΄νΈν•μ—¬ κ°±μ‹  μ²λ¦¬λ¥Ό μν–‰ν•  μ μμµλ‹λ‹¤.

μ΄μƒμ…λ‹λ‹¤! λ¬Έμ κ°€ μκ±°λ‚ μ¶”κ°€ λ„μ›€μ΄ ν•„μ”ν•μ‹λ©΄ μ–Έμ λ“ μ§€ λ¬Όμ–΄λ³΄μ„Έμ”. π

[Room λΌμ΄λΈλ¬λ¦¬ κ³µμ‹ λ¬Έμ„](https://developer.android.com/training/data-storage/room)λ¥Ό μ°Έκ³ ν•μ‹λ©΄ λ„μ›€μ΄ λ  κ²ƒμ…λ‹λ‹¤.