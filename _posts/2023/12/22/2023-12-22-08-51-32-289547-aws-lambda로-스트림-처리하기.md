---
layout: post
title: "[nodejs] AWS Lambdaë¡œ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬í•˜ê¸°"
description: " "
date: 2023-12-22
tags: [nodejs]
comments: true
share: true
---

AWS LambdaëŠ” ì„œë²„ë¦¬ìŠ¤ ì»´í“¨íŒ… ì„œë¹„ìŠ¤ë¡œ, ì„œë²„ë¥¼ í”„ë¡œë¹„ì €ë‹í•˜ê±°ë‚˜ ê´€ë¦¬í•  í•„ìš” ì—†ì´ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Node.js ë° AWS Lambdaì™€ í•¨ê»˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 1. AWS Lambda ì„¤ì •

ë¨¼ì € AWS ì½˜ì†”ì— ë¡œê·¸ì¸í•˜ì—¬ Lambda ì„œë¹„ìŠ¤ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. "í•¨ìˆ˜ ë§Œë“¤ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ê³  í•¨ìˆ˜ ì´ë¦„ ë° ì‹¤í–‰ ì—­í• ì„ ì„¤ì •í•©ë‹ˆë‹¤. ì´ì œ Node.js í™˜ê²½ì—ì„œ ìŠ¤íŠ¸ë¦¼ì„ ì²˜ë¦¬í•  í•¨ìˆ˜ë¥¼ ìƒì„±í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

## 2. ì´ë²¤íŠ¸ ì†ŒìŠ¤ ì„¤ì •

Lambda í•¨ìˆ˜ì— ì—°ê²°ë  ì´ë²¤íŠ¸ ì†ŒìŠ¤ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. Amazon Kinesisë‚˜ Amazon S3 ê°™ì€ ìŠ¤íŠ¸ë¦¼ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```javascript
exports.handler = async (event) => {
  for (const record of event.Records) {
    // ìŠ¤íŠ¸ë¦¼ ë°ì´í„° ì²˜ë¦¬ ë¡œì§
  }
};
```

ìœ„ ì½”ë“œëŠ” AWS Lambda í•¨ìˆ˜ì˜ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ ì˜ˆì‹œì…ë‹ˆë‹¤. `event.Records`ë¥¼ í†µí•´ ì´ë²¤íŠ¸ ì†ŒìŠ¤ë¡œë¶€í„° ë°›ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 3. ìŠ¤íŠ¸ë¦¼ ë°ì´í„° ì²˜ë¦¬

ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œë¶€í„° ë°›ì€ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ì–‘í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, JSON ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```javascript
const AWS = require('aws-sdk');
const dynamodb = new AWS.DynamoDB.DocumentClient();

exports.handler = async (event) => {
  for (const record of event.Records) {
    const data = JSON.parse(Buffer.from(record.kinesis.data, 'base64').toString('ascii'));
    const params = {
      TableName: 'exampleTable',
      Item: {
        id: data.id,
        value: data.value
      }
    };
    await dynamodb.put(params).promise();
  }
};
```

ìœ„ ì½”ë“œì—ì„œëŠ” Amazon DynamoDBì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.

## 4. ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

Lambda í•¨ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ AWS CloudWatchë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ AWS Lambdaì™€ Node.jsë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ í†µí•´ ë°ì´í„° ì²˜ë¦¬ë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ëŠ” [AWS Lambda ê³µì‹ ë¬¸ì„œ](https://docs.aws.amazon.com/lambda)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Happy streaming with AWS Lambda! ğŸš€