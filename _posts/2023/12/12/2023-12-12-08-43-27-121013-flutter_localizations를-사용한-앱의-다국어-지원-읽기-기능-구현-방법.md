---
layout: post
title: "[flutter] flutter_localizationsë¥¼ ì‚¬ìš©í•œ ì•±ì˜ ë‹¤êµ­ì–´ ì§€ì› ì½ê¸° ê¸°ëŠ¥ êµ¬í˜„ ë°©ë²•"
description: " "
date: 2023-12-12
tags: [flutter]
comments: true
share: true
---

ë‹¤êµ­ì–´ ì§€ì›ì€ Flutter ì•±ì„ ì „ ì„¸ê³„ ì‚¬ìš©ìì—ê²Œ ì œê³µí•˜ê¸° ìœ„í•´ ì¤‘ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. `flutter_localizations` íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì— ë‹¤êµ­ì–´ ì§€ì›ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ í”Œë«í¼ì—ì„œ ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì•± ì‚¬ìš© ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## flutter_localizations íŒ¨í‚¤ì§€

`flutter_localizations` íŒ¨í‚¤ì§€ëŠ” Flutterì—ì„œ ì§€ì—­í™”ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ í•µì‹¬ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ ì•±ì˜ ë¬¸ìì—´ ë° ì¼ë¶€ ì‹œìŠ¤í…œ ë©”ì‹œì§€ë¥¼ ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 1. flutter_localizations ì¶”ê°€

ë¨¼ì €, `flutter_localizations` íŒ¨í‚¤ì§€ë¥¼ ì•±ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. `pubspec.yaml` íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```yaml
dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter
  # ì—¬ê¸°ì— ë‹¤ë¥¸ ì˜ì¡´ì„±ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
```

ê·¸ëŸ° ë‹¤ìŒ í„°ë¯¸ë„ì—ì„œ `flutter packages get` ëª…ë ¹ì„ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.

## 2. MaterialAppì— ì§€ì—­í™” ë¸ë¦¬ê²Œì´íŠ¸ ì¶”ê°€

ë‹¤ìŒìœ¼ë¡œ, `MaterialApp` ìœ„ì ¯ì— `localizationsDelegates` ë° `supportedLocales`ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ì•±ì˜ ì§„ì… ì§€ì ì— í•´ë‹¹í•˜ëŠ” ê³³ì—ì„œ ì„¤ì •ë©ë‹ˆë‹¤.

```dart
import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      localizationsDelegates: [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
      ],
      supportedLocales: [
        const Locale('en', 'US'), // ì˜ì–´
        const Locale('ko', 'KR'), // í•œêµ­ì–´
        // ì—¬ê¸°ì— ë‹¤ë¥¸ ì–¸ì–´ ì½”ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
      ],
      home: MyHomePage(),
    );
  }
}
```

## 3. ë‹¤êµ­ì–´ ë¬¸ìì—´ ì¶”ê°€

ì´ì œ ì•±ì— ì‚¬ìš©í•  ë‹¤êµ­ì–´ ë¬¸ìì—´ì„ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. `lib` í´ë” ë‚´ì— `l10n` í´ë”ë¥¼ ë§Œë“¤ê³ , ê·¸ ì•„ë˜ì— ê° ì–¸ì–´ë³„ë¡œ `arb` íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `app_localizations_en.arb` íŒŒì¼ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì˜ì–´ ë¬¸ìì—´ì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```json
{
  "title": "Hello World!",
  "welcome": "Welcome to my app"
}
```

`app_localizations_ko.arb` íŒŒì¼ì—ëŠ” í•œêµ­ì–´ì— í•´ë‹¹í•˜ëŠ” ë¬¸ìì—´ì„ ì¶”ê°€í•©ë‹ˆë‹¤:

```json
{
  "title": "ì•ˆë…•, ì„¸ìƒ!",
  "welcome": "ë‚´ ì•±ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤"
}
```

## 4. AppLocalizations í´ë˜ìŠ¤ ìƒì„±

ë‹¤êµ­ì–´ ë¬¸ìì—´ì„ ë¡œë“œí•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤êµ­ì–´ ì§€ì›ì„ ìœ„í•´ `AppLocalizations` í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ì´ í´ë˜ìŠ¤ì—ì„œ ì–¸ì–´ë³„ë¡œ ë¬¸ìì—´ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```dart
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'dart:convert';

class AppLocalizations {
  final Locale locale;

  AppLocalizations(this.locale);

  static AppLocalizations of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations);
  }

  Map<String, String> _localizedStrings;

  Future<bool> load() async {
    String jsonString = await rootBundle.loadString('lib/l10n/app_localizations_${locale.languageCode}.arb');
    Map<String, dynamic> jsonMap = json.decode(jsonString);
    _localizedStrings = jsonMap.map((key, value) {
      return MapEntry(key, value.toString());
    });
    return true;
  }

  String translate(String key) {
    return _localizedStrings[key];
  }
}
```

## 5. AppLocalizationsDelegate í´ë˜ìŠ¤ ìƒì„±

ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•  `AppLocalizations` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  `AppLocalizationsDelegate` í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. 

```dart
class AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) {
    return ['en', 'ko'].contains(locale.languageCode);
  }

  @override
  Future<AppLocalizations> load(Locale locale) async {
    AppLocalizations localizations = new AppLocalizations(locale);
    await localizations.load();
    return localizations;
  }

  @override
  bool shouldReload(AppLocalizationsDelegate old) => false;
}
```

## 6. ë‹¤êµ­ì–´ ë¬¸ìì—´ ì‚¬ìš©

ì´ì œ `AppLocalizations` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤êµ­ì–´ ë¬¸ìì—´ì„ ì–´ë–»ê²Œ ì‚¬ìš©í• ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. 

```dart
Text(AppLocalizations.of(context).translate('title')),
Text(AppLocalizations.of(context).translate('welcome')),
```

ìœ„ì™€ ê°™ì´ `AppLocalizations.of(context).translate('key')`ë¡œ ë¬¸ìì—´ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

ìœ„ì˜ ê³¼ì •ì„ ë”°ë¼ í•˜ë©´ ì•±ì€ ì§€ì •ëœ ì§€ì—­ì— ë”°ë¼ ì ì ˆí•œ ì–¸ì–´ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

ì´ì œ `flutter_localizations`ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì•±ì— ë‹¤êµ­ì–´ ì§€ì› ì½ê¸° ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. í–¥í›„ ì—¬ëŸ¬ ì–¸ì–´ë¡œ ì•±ì„ í™•ì¥í•˜ëŠ” ë° ë„ì›€ì´ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.

[flutter_localizations íŒ¨í‚¤ì§€](https://pub.dev/packages/flutter_localizations)ì—ì„œ ë” ë§ì€ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Happy coding! ğŸŒâœ¨