---
layout: post
title: "[kotlin] @Database μ–΄λ…Έν…μ΄μ… μ‚¬μ©ν•κΈ°"
description: " "
date: 2023-12-12
tags: [kotlin]
comments: true
share: true
---

μ•λ…•ν•μ„Έμ”! μ΄λ²μ—λ” μ•λ“λ΅μ΄λ“ μ•±μ—μ„ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό κ΄€λ¦¬ν•λ” λ°©λ²• μ¤‘ ν•λ‚μΈ Room λΌμ΄λΈλ¬λ¦¬μ `@Database` μ–΄λ…Έν…μ΄μ…μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

### 1. `@Database` μ–΄λ…Έν…μ΄μ…μ΄λ€?

`@Database` μ–΄λ…Έν…μ΄μ…μ€ Room λΌμ΄λΈλ¬λ¦¬μ—μ„ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ μ‚¬μ©λ©λ‹λ‹¤. μ΄ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•λ©΄ λ°μ΄ν„°λ² μ΄μ¤μ λ²„μ „ κ΄€λ¦¬μ™€ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°κ²°ν•κΈ° μ„ν• κ°μ²΄λ¥Ό μƒμ„±ν•  μ μμµλ‹λ‹¤.

### 2. `@Database` μ–΄λ…Έν…μ΄μ… μ„¤μ •ν•κΈ°

λ¨Όμ €, λ°μ΄ν„°λ² μ΄μ¤λ¥Ό μ •μν•λ” ν΄λμ¤μ— `@Database` μ–΄λ…Έν…μ΄μ…μ„ μ μ©ν•΄μ•Ό ν•©λ‹λ‹¤. μ•„λλ” κ°„λ‹¨ν• μμ  μ½”λ“μ…λ‹λ‹¤.

```kotlin
import androidx.room.Database
import androidx.room.RoomDatabase

@Database(entities = [User::class], version = 1)
abstract class AppDatabase : RoomDatabase() {
    // λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°κ²°ν•λ” DAO μΈν„°νμ΄μ¤λ¥Ό λ°ν™ν•λ” λ©”μ„λ“ λ“±μ„ μ •μν•©λ‹λ‹¤.
}
```

μ„ μ½”λ“μ—μ„ `@Database` μ–΄λ…Έν…μ΄μ…μ€ λ°μ΄ν„°λ² μ΄μ¤μ— μ‚¬μ©λ  μ—”ν‹°ν‹°μ™€ λ²„μ „ μ •λ³΄λ¥Ό μ„¤μ •ν•©λ‹λ‹¤. λν•, `RoomDatabase` ν΄λμ¤λ¥Ό μƒμ†λ°›λ” μ¶”μƒ ν΄λμ¤λ¥Ό μ •μν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤μ™€ μ—°κ²°ν•λ” DAO μΈν„°νμ΄μ¤λ¥Ό λ°ν™ν•λ” λ©”μ„λ“ λ“±μ„ μ •μν•©λ‹λ‹¤.

### 3. `@Database` μ–΄λ…Έν…μ΄μ… μµμ… μ„¤μ •ν•κΈ°

`@Database` μ–΄λ…Έν…μ΄μ…μ—λ” λ‹¤μ–‘ν• μµμ…μ„ μ„¤μ •ν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, exportSchema, views, collate, autoMigrations, entitySubclasses, databaseCallback λ“±μ μµμ…μ΄ μμµλ‹λ‹¤. 

μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•  λ• μµμ…μ„ μ„¤μ •ν•μ—¬ λ°μ΄ν„°λ² μ΄μ¤ λ™μ‘μ„ μ„Έλ°€ν•κ² μ μ–΄ν•  μ μμµλ‹λ‹¤.

### 4. λ§λ¬΄λ¦¬

μ΄λ ‡κ² Room λΌμ΄λΈλ¬λ¦¬μ `@Database` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ•λ“λ΅μ΄λ“ μ•±μ—μ„ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό κ΄€λ¦¬ν•λ” λ°©λ²•μ— λ€ν•΄ μ•μ•„λ³΄μ•μµλ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ² μ΄μ¤λ¥Ό μ‰½κ² μ •μν•κ³  κ΄€λ¦¬ν•  μ μμΌλ©°, λ°μ΄ν„°λ² μ΄μ¤ λ²„μ „μ„ μ—…λ°μ΄νΈν•κ±°λ‚ κ΄€λ ¨λ DAO κ°μ²΄λ¥Ό μ—°κ²°ν•λ” μ‘μ—… λ“±μ„ κ°„νΈν•κ² μ²λ¦¬ν•  μ μμµλ‹λ‹¤.

λ” λ§μ€ μ •λ³΄λ¥Ό μ›ν•μ‹λ©΄ [Room Persistence Library](https://developer.android.com/training/data-storage/room) λ¬Έμ„λ¥Ό μ°Έκ³ ν•μ‹κΈ° λ°”λλ‹λ‹¤. κ°μ‚¬ν•©λ‹λ‹¤! π€