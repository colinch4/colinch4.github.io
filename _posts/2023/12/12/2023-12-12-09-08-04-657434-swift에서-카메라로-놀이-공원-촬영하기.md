---
layout: post
title: "[swift] Swiftì—ì„œ ì¹´ë©”ë¼ë¡œ ë†€ì´ ê³µì› ì´¬ì˜í•˜ê¸°"
description: " "
date: 2023-12-12
tags: [swift]
comments: true
share: true
---

ë†€ì´ ê³µì›ì„ ì—¬í–‰í•˜ë©´ì„œ Swiftë¡œ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ë³„í•œ ìˆœê°„ì„ ê¸°ë¡í•´ë³´ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ì´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Swift ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ iOS ì•±ì—ì„œ ì¹´ë©”ë¼ë¥¼ ì—´ì–´ ì‚¬ì§„ì„ ì°ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ë˜í•œ AVFoundation í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë†€ì´ ê³µì›ì—ì„œì˜ ì´¬ì˜ì„ ë”ìš± í¥ë¯¸ë¡­ê²Œ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ì„œë„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

## ëª©ì°¨

1. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
2. ì¹´ë©”ë¼ ì•± ë§Œë“¤ê¸°
3. ì¹´ë©”ë¼ ì œì–´í•˜ê¸°
4. ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
5. ê²°ë¡ 

## 1. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°

ë¨¼ì €, í”„ë¡œì íŠ¸ì— AVFoundation ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤. ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì¹´ë©”ë¼ì™€ ë§ˆì´í¬, ì‚¬ìš´ë“œ ë° ë¯¸ë””ì–´ ì²˜ë¦¬ì™€ ê´€ë ¨ëœ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë˜í•œ, UIImagePickerController í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ ë‚´ì¥ ì¹´ë©”ë¼ ì•±ì„ í†µí•´ ì‚¬ì§„ì„ ì°ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```swift
import AVFoundation
import UIKit
```

## 2. ì¹´ë©”ë¼ ì•± ë§Œë“¤ê¸°

ì¹´ë©”ë¼ ì•±ì„ ë§Œë“¤ê¸° ìœ„í•´ UIViewControllerë¥¼ ìƒì†í•˜ëŠ” CameraViewControllerë¥¼ ë§Œë“¤ê³ , UIImagePickerController ë° AVCaptureSessionì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ, ì‚¬ìš©ìì—ê²Œ ì¹´ë©”ë¼ë¥¼ í—ˆìš©í•  ê²ƒì¸ì§€ ë¬»ëŠ” ê¶Œí•œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.

```swift
class CameraViewController: UIViewController, UIImagePickerControllerDelegate, UINavigationControllerDelegate {
    let imagePicker = UIImagePickerController()

    override func viewDidLoad() {
        super.viewDidLoad()

        imagePicker.delegate = self
        imagePicker.sourceType = .camera

        present(imagePicker, animated: true, completion: nil)
    }
}
```

## 3. ì¹´ë©”ë¼ ì œì–´í•˜ê¸°

AVCaptureSession ë° AVCapturePhotoOutputì„ ì‚¬ìš©í•˜ì—¬ ì¹´ë©”ë¼ ì´¬ì˜ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ AVCaptureSessionì„ ì„¤ì •í•˜ê³  ì¹´ë©”ë¼ í™”ë©´ì„ ë¯¸ë¦¬ë³´ê¸°ë¡œ í‘œì‹œí•˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.

```swift
let captureSession = AVCaptureSession()

func setupCaptureSession() {
    captureSession.sessionPreset = .photo

    guard let backCamera = AVCaptureDevice.default(for: .video),
        let input = try? AVCaptureDeviceInput(device: backCamera) else {
            return
    }

    if captureSession.canAddInput(input) {
        captureSession.addInput(input)
    }

    let previewLayer = AVCaptureVideoPreviewLayer(session: captureSession)
    view.layer.addSublayer(previewLayer)
    previewLayer.frame = view.frame

    captureSession.startRunning()
}
```

## 4. ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°

ë†€ì´ ê³µì›ì—ì„œ ì´¬ì˜ì„ í•˜ëŠ” ê³¼ì •ì—ì„œ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¸í™”ëœ ì‚¬ì§„ì„ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì´ë‚˜ í•„í„°ë¥¼ ì ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
func capturePhoto() {
    let settings = AVCapturePhotoSettings()
    photoOutput.capturePhoto(with: settings, delegate: self)
}

func photoOutput(_ output: AVCapturePhotoOutput, didFinishProcessingPhoto photo: AVCapturePhoto, error: Error?) {
    if let imageData = photo.fileDataRepresentation(),
        let image = UIImage(data: imageData) {
        UIImageWriteToSavedPhotosAlbum(image, nil, nil, nil)
    }
}
```

## 5. ê²°ë¡ 

ì´ì œ ì—¬ëŸ¬ë¶„ì€ Swiftë¥¼ ì‚¬ìš©í•˜ì—¬ iOS ì•±ì—ì„œ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ë†€ì´ ê³µì›ì˜ íŠ¹ë³„í•œ ìˆœê°„ì„ ì‰½ê²Œ ì´¬ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. AVFoundationì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì¹´ë©”ë¼ë¥¼ ì»¨íŠ¸ë¡¤í•˜ê³  ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ì°½ì˜ì ìœ¼ë¡œ ë†€ì´ ê³µì›ì—ì„œì˜ ê²½í—˜ì„ ê¸°ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ëŠ” [Appleì˜ ê³µì‹ ë¬¸ì„œ](https://developer.apple.com/documentation/avfoundation)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

ì´ì œ ì—¬ëŸ¬ë¶„ì€ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ë”ìš± ë‹¤ì±„ë¡œìš´ ë†€ì´ ê³µì› ì‚¬ì§„ì„ ì´¬ì˜í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤!

Happy coding! ğŸ“¸âœ¨