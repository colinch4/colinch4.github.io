---
layout: post
title: "[swift] HealthKit í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•œ ê±´ê°• ë° ìš´ë™ ë°ì´í„° ì²˜ë¦¬ ë°©ë²•"
description: " "
date: 2023-12-18
tags: [swift]
comments: true
share: true
---

HealthKitì€ ì• í”Œì˜ ê±´ê°• ë° ìš´ë™ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” í”„ë ˆì„ì›Œí¬ë¡œ, iOS ì•±ì—ì„œ ì‚¬ìš©ìì˜ ê±´ê°• ê´€ë ¨ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì“°ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì„ ê°œë°œí•˜ë©´ ì‚¬ìš©ìì˜ ê±´ê°• ì •ë³´ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## HealthKitì˜ ì£¼ìš” ê¸°ëŠ¥

HealthKitì„ ì‚¬ìš©í•˜ì—¬ ì•±ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- ì‚¬ìš©ìì˜ ê±´ê°• ë° ìš´ë™ ë°ì´í„°ì— ì ‘ê·¼
- ë°ì´í„°ë¥¼ ì½ê³  ì“°ê¸°
- ì‚¬ìš©ìì˜ ê±´ê°• ë°ì´í„°ë¥¼ í†µí•©í•˜ì—¬ í‘œì‹œ

## HealthKit ë°ì´í„° ì²˜ë¦¬ ë°©ë²•

1. **ê±´ê°• ë°ì´í„° ì¡°íšŒ**
   HealthKitì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ê±´ê°• ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ë©´ ì ì ˆí•œ ê¶Œí•œì„ ìš”ì²­í•´ì•¼ í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ê¶Œí•œì„ ë¶€ì—¬í•˜ë©´ ì‹¬ê°í•œ ê±´ê°• ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì´ìƒ, ê±´ê°• ë°ì´í„°ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

   ì˜ˆì‹œ:
   ```swift
   let healthStore = HKHealthStore()
   let allTypes = Set([HKObjectType.workoutType(),
                       HKObjectType.quantityType(forIdentifier: .heartRate)!,
                       HKObjectType.quantityType(forIdentifier: .activeEnergyBurned)!])
   healthStore.requestAuthorization(toShare: allTypes, read: allTypes) { (success, error) in
       if success {
           // ê¶Œí•œ íšë“ ì„±ê³µ ì‹œ ë°ì´í„° ì¡°íšŒ ë° ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰
       } else {
           // ê¶Œí•œ íšë“ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰
       }
   }
   ```

2. **ê±´ê°• ë°ì´í„° ì €ì¥**
   ì‚¬ìš©ìì˜ ê±´ê°• ë°ì´í„°ë¥¼ ì €ì¥í•˜ë ¤ë©´ ì ì ˆí•œ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë§Œë“¤ê³  HealthKitì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.

   ì˜ˆì‹œ:
   ```swift
   let heartRateType = HKQuantityType.quantityType(forIdentifier: .heartRate)!
   let heartRate = HKQuantity(unit: HKUnit.count().unitDivided(by: HKUnit.minute()), doubleValue: 75.0)
   let heartRateSample = HKQuantitySample(type: heartRateType, quantity: heartRate, start: startDate, end: endDate)
   healthStore.save(heartRateSample) { (success, error) in
       if success {
           // ì €ì¥ ì„±ê³µ ì‹œ ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰
       } else {
           // ì €ì¥ ì‹¤íŒ¨ ì‹œ ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰
       }
   }
   ```

## ê²°ë¡ 

HealthKitì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ê±´ê°• ê´€ë ¨ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ iOS ì•±ì„ ê°œë°œí•  ë•Œ ì‚¬ìš©ìì˜ ê±´ê°• ì •ë³´ë¥¼ ì‰½ê²Œ ê´€ë¦¬í•˜ê³  í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ëŠ” [Apple Developer ì‚¬ì´íŠ¸](https://developer.apple.com/documentation/healthkit)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Happy coding! ğŸƒâ€â™‚ï¸ğŸ