---
layout: post
title: "[flutter] dio_retry íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œì— ëŒ€í•œ ì•Œë¦¼ í‘œì‹œí•˜ê¸°"
description: " "
date: 2023-12-18
tags: [flutter]
comments: true
share: true
---

ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ dio_retry íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œ ì¤‘ì— ì˜¤ë¥˜ ë° ì¬ì‹œë„ì— ëŒ€í•œ ì•Œë¦¼ í‘œì‹œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 1. dio_retry íŒ¨í‚¤ì§€ ì„¤ì¹˜

ë¨¼ì € `pubspec.yaml` íŒŒì¼ì— dio_retry íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```yaml
dependencies:
  dio: any
  dio_retry: ^2.0.0
```

ê·¸ ë‹¤ìŒ, íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash
$ flutter pub get
```

## 2. dio_retryë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œ ì‹œ ì•Œë¦¼ í‘œì‹œ

ë‹¤ìŒì€ dio_retry íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œ ì¤‘ì— ì˜¤ë¥˜ ë˜ëŠ” ì¬ì‹œë„ì— ëŒ€í•œ ì•Œë¦¼ì„ í‘œì‹œí•˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì œì…ë‹ˆë‹¤.

```dart
import 'package:flutter/material.dart';
import 'package:dio/dio.dart';
import 'package:dio_retry/dio_retry.dart';

void main() {
  Dio dio = Dio(); // ì›í•˜ëŠ” ì„¤ì •ìœ¼ë¡œ ì´ˆê¸°í™”

  dio.interceptors.add(
    RetryInterceptor(
      dio: dio,
      options: const RetryOptions(
        retries: 3, // ìµœëŒ€ 3ë²ˆ ì¬ì‹œë„
      ),
      onRetry: (error) {
        // ì˜¤ë¥˜ ë°œìƒ ì‹œ ì²˜ë¦¬ ë° ì•Œë¦¼ í‘œì‹œ
        _showErrorNotification(error);
      },
    ),
  );

  runApp(MyApp(dio: dio));
}

void _showErrorNotification(DioError error) {
  // ì˜¤ë¥˜ì— ë”°ë¥¸ ì•Œë¦¼ í‘œì‹œ ë¡œì§ êµ¬í˜„
  // ì˜ˆë¥¼ ë“¤ì–´, Snackbarë‚˜ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼í‘œì‹œ
}

// ë‚˜ë¨¸ì§€ ì•± ì½”ë“œ
class MyApp extends StatelessWidget {
  final Dio dio;

  const MyApp({Key key, this.dio}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      // ì•± êµ¬ì„±
    );
  }
}
```

## 3. ë§ˆì¹˜ë©°

ì´ì œ dio_retry íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ Flutter ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ API í˜¸ì¶œ ì¤‘ì— ì˜¤ë¥˜ ë° ì¬ì‹œë„ì— ëŒ€í•œ ì•Œë¦¼ì„ í‘œì‹œí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìë“¤ì€ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì— ëŒ€í•´ ë³´ë‹¤ ì‰½ê²Œ ì¸ì§€í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

ë” ë§ì€ ì •ë³´ë‚˜ ì‚¬ìš© ì˜ˆì œëŠ” [dio_retry GitHub í˜ì´ì§€](https://github.com/techie91/dio_retry)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

Happy coding! ğŸš€