---
layout: post
title: "[nodejs] GraphQL μΏΌλ¦¬ μ–Έμ–΄ μ„ νƒμ  ν•„λ“ μ΅°ν"
description: " "
date: 2023-12-18
tags: [nodejs]
comments: true
share: true
---

GraphQLμ€ ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ μ”μ²­ν•κ³  μ„λ²„μ—μ„ μ›ν•λ” ν•μ‹μΌλ΅ λ°ν™λ°›μ„ μ μλ„λ΅ ν•λ” κ°•λ ¥ν• μΏΌλ¦¬ μ–Έμ–΄μ…λ‹λ‹¤. μ΄ κΈ°λ¥μ„ ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ ν•„μ”ν• ν•„λ“λ§μ„ μ΅°νν•  μ μμ–΄ ν¨μ¨μ μΈ ν†µμ‹  λ° λ°μ΄ν„° μ²λ¦¬λ¥Ό κ°€λ¥ν•κ² ν•©λ‹λ‹¤.

## μ„ νƒμ  ν•„λ“ μ΅°νμ μ΄μ 

κΈ°μ΅΄μ RESTful APIμ—μ„λ” μ”μ²­λ λ°μ΄ν„°μ λ¨λ“  ν•„λ“λ¥Ό λ°ν™ν•κ±°λ‚, μ—¬λ¬ μ—”λ“ν¬μΈνΈλ¥Ό ν†µν•΄ ν•„μ”ν• μ •λ³΄λ¥Ό λ”°λ΅ μ”μ²­ν•΄μ•Ό ν–μµλ‹λ‹¤. ν•μ§€λ§ GraphQLμ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ ν•„μ”λ΅ ν•λ” ν•„λ“λ§μ„ μ„ νƒμ μΌλ΅ μ΅°νν•  μ μμΌλ―€λ΅, λ¶ν•„μ”ν• λ°μ΄ν„° μ „μ†΅μ„ μ¤„μ΄κ³  μ‘λ‹µ μ‹κ°„μ„ μµμ ν™”ν•  μ μμµλ‹λ‹¤.

## Node.jsμ—μ„ μ„ νƒμ  ν•„λ“ μ΅°ν λ°©λ²•

Node.jsμ—μ„λ” GraphQL μ„λ²„λ¥Ό κµ¬μ¶•ν•κΈ° μ„ν•΄ Apollo Serverλ‚ Express λ“±μ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤. μ•„λλ” Apollo Serverλ¥Ό μ‚¬μ©ν•μ—¬ GraphQL μΏΌλ¦¬ μ–Έμ–΄λ¥Ό ν†µν•΄ μ„ νƒμ  ν•„λ“ μ΅°νλ¥Ό κµ¬ν„ν•λ” μμ‹μ…λ‹λ‹¤.

```javascript
const { ApolloServer, gql } = require('apollo-server');

// μ¤ν‚¤λ§ μ •μ
const typeDefs = gql`
  type User {
    id: ID
    name: String
    email: String
    age: Int
  }

  type Query {
    user(id: ID!): User
  }
`;

// λ¦¬μ΅Έλ²„ ν•¨μ μ •μ
const resolvers = {
  Query: {
    user: (parent, args, context, info) => {
      // argsμ— λ”°λΌ ν•„λ“ μ„ νƒμ  μ΅°ν
      return fetchUserData(args.id, info.fieldNodes[0].selectionSet.selections.map(field => field.name.value));
    }
  }
};

// Apollo Server μƒμ„±
const server = new ApolloServer({ typeDefs, resolvers });

// μ„λ²„ μ‹¤ν–‰
server.listen().then(({ url }) => {
  console.log(`π€ Server ready at ${url}`);
});
```

μ„ μ½”λ“μ—μ„λ” GraphQL μ¤ν‚¤λ§λ¥Ό μ •μν•κ³ , user μΏΌλ¦¬μ— λ€ν• λ¦¬μ΅Έλ²„ ν•¨μμ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• ν•„λ“λ§μ„ μ„ νƒμ μΌλ΅ μ΅°νν•μ—¬ λ°ν™ν•λ„λ΅ κµ¬ν„λμ—μµλ‹λ‹¤.

## κ²°λ΅ 

Node.js ν™κ²½μ—μ„ GraphQLμ„ μ‚¬μ©ν•μ—¬ μ„ νƒμ  ν•„λ“ μ΅°νλ¥Ό κµ¬ν„ν•λ©΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν¨μ¨μ μΈ λ°μ΄ν„° ν†µμ‹  λ° μ²λ¦¬κ°€ κ°€λ¥ν•΄μ§‘λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ„±λ¥ ν–¥μƒκ³Ό λ” λ‚μ€ μ‚¬μ©μ κ²½ν—μ„ μ κ³µν•  μ μμµλ‹λ‹¤.

λ” λ§μ€ μ •λ³΄λ¥Ό μ›ν•μ‹κ±°λ‚ λ„μ›€μ΄ ν•„μ”ν•μ‹λ©΄ [GraphQL κ³µμ‹ λ¬Έμ„](https://graphql.org/)λ¥Ό μ°Έκ³ ν•μ‹κΈ° λ°”λλ‹λ‹¤.