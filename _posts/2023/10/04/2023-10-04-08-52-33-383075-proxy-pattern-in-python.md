---
layout: post
title: "Proxy pattern in Python"
description: " "
date: 2023-10-04
tags: []
comments: true
share: true
---

The Proxy pattern is a structural design pattern that provides a surrogate or placeholder for another object. This pattern allows you to control access to the object by creating a proxy object that behaves the same way as the original object but adds extra functionalities or controls.

## When to Use the Proxy Pattern

You can use the Proxy pattern in the following situations:

1. **Remote Proxies**: When the object you want to access is located in a remote location, you can use a proxy to hide the complexity of the network communication.
2. **Virtual Proxies**: When you want to create a heavy object on demand, you can use a proxy to delay its creation until it is actually needed.
3. **Protection Proxies**: When you need to control access to an object, you can use a proxy to implement access controls or provide additional security checks.

## Example Implementation

Let's consider a simple example where we want to provide access to a sensitive resource through a proxy. The `Image` class represents an image file, and we want to restrict access to it.

```python
class Image:
    def __init__(self, filename):
        self.filename = filename
    
    def display(self):
        print(f"Displaying image: {self.filename}")


class ProxyImage:
    def __init__(self, image: Image):
        self.image = image
    
    def display(self):
        # Access control logic before displaying the image
        if self.is_authorized():
            self.image.display()
        else:
            print("You are not authorized to view this image.")
    
    def is_authorized(self):
        # Logic to check if the user is authorized
        # This can be based on user credentials or permissions
        return True  # Placeholder implementation, always returns True for demonstration purposes


# Usage
image = Image("image.jpg")
proxy_image = ProxyImage(image)

# Display the image through the proxy
proxy_image.display()
```

In this example, we have a `Image` class that represents an image file. We then create a `ProxyImage` class which acts as a proxy for the `Image` object. The `ProxyImage` class adds an extra layer of access control before displaying the image. It checks whether the user is authorized to view the image and only displays it if authorized.

## Conclusion

The Proxy pattern is a powerful tool for controlling access to objects and adding extra functionalities. It allows you to abstract away complex logic or add security checks without modifying the original object. This pattern promotes loose coupling and enhances code maintainability and reusability.

Using the Proxy pattern in Python or any other language can greatly improve your code's design and flexibility while providing a layer of control over object access.